{"version":3,"mappings":"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","names":["availableLanguages","defaultLanguage","languageNames","parseFlatYAML","src","out","lines","raw","line","idx","key","val","loadLocale","lang","mod","__variableDynamicImportRuntimeHelper","text","e","cache","baseFallback","rawLocales","defPath","LanguageContext","createContext","opts","LanguageProvider","children","setLang","useState","dicts","setDicts","loadingRef","useRef","useEffect","cancelled","active","t","useCallback","base","jsx","useLanguage","useContext","useT","useThemeToggle","theme","setTheme","html","Header","React","toggle","langMenuOpen","setLangMenuOpen","langBtnRef","handleOutside","scrolled","setScrolled","onScroll","navItems","jsxs","item","o","l","label","Sun","Moon","useReveal","selector","options","elements","el","observer","entries","entry","Footer","serverStatus","setServerStatus","fetchStatus","data","_a","error","interval","Hero","wrapperRef","container","texts","Features","carouselRef","dotsRef","current","setCurrent","paused","setPaused","showSlide","i","smooth","carousel","cards","target","left","ensureDots","dotsC","_","span","syncActive","c","d","scrollRaf","center","best","bestDiff","card","cardCenter","diff","handleKeyDown","onEnter","onLeave","onFocusIn","onFocusOut","onWheel","absX","absY","resize","handleVis","id","items","FAQ","open","setOpen","it","Join","copyIP","ERROR_CODES","fallback","formatDate","timestamp","formatPlayTime","ms","s","m","h","formatUUID","uuid","CACHE_KEY","profileCache","saveProfileCache","getProfileFromUsername","username","uname","resp","p","result","getProfileFromUUID","clean","getSkinUrl","getCandidateSkinUrls","resolveFirstWorkingImage","urls","url","resolve","img","settled","settle","res","getPlayerFromBackend","query","PUBLIC_API_BASE","PUBLIC_API_TIME_UNIT","toMsFromUnit","value","getPlayerFromPublicApi","q","r","onlineTime","playTimeMs","coins","played","wins","losses","globalWinRate","achievements","emblems","playedGamesByType","winRateByGame","usePlayerStats","initialQuery","setQuery","loading","setLoading","setError","player","setPlayer","skinReady","setSkinReady","skinViewerRef","containerRef","lastSearchIdRef","search","inputQuery","mySearchId","publicApi","backend","displayName","cleaned","prof","disposed","rafId","angle","rotationEnabledRef","ro","loadSkin","candidates","skinUrlFinal","SkinViewer","IdleAnimation","__vitePreload","width","height","idle","animate","canvas","onDown","onUp","w","cleanup","_b","chartTheme","defaultCategoryOrder","getCategoryOrder","groups","present","ordered","add","k","g","colorFor","cat","categories","DonutChart","size","total","v","acc","hover","setHover","hole","cx","cy","ptc","a","rad","ang","start","end","la","isHover","Fragment","VBarChart","barWidth","gap","yTicks","yLabel","valueSuffix","showValues","top","bottom","right","plotH","minWidth","xPos","yPos","y","x","chipW","Stats","ts","formatHours","hrs","mins","state","actions","skinContainerRef","hookPlayer","handle","totals","useMemo","b","metrics","wr","topShare","SearchIcon","BackToTop","HomePage","hash","setHash","onHash","statsHeading","heading","u","showStats","currentMeta","section","baseMeta","Helmet","App","createRoot"],"ignoreList":[],"sources":["../../src/i18n/config.js","../../src/i18n/LanguageProvider.jsx","../../src/components/Header.jsx","../../src/hooks/useReveal.js","../../src/components/Footer.jsx","../../src/components/Hero.jsx","../../src/components/Features.jsx","../../src/components/FAQ.jsx","../../src/components/Join.jsx","../../src/hooks/usePlayerStats.js","../../src/components/Stats.jsx","../../src/pages/HomePage.jsx","../../src/App.jsx","../../src/main.jsx"],"sourcesContent":["// Central language configuration for i18n system\nexport const availableLanguages = ['en', 'fr', 'es', 'de', 'ro', 'ru', 'zh'];\nexport const defaultLanguage = 'en';\nexport const languageNames = {\n  en: 'English',\n  fr: 'Français',\n  es: 'Español',\n  de: 'Deutsch',\n  ro: 'Română',\n  ru: 'Русский',\n  zh: '中文',\n};\n","import React, { createContext, useContext, useEffect, useState, useCallback, useRef } from 'react';\nimport { availableLanguages, defaultLanguage } from './config.js';\n\n// Very small YAML parser for flat key: value pairs (no nesting needed here)\nfunction parseFlatYAML(src) {\n  const out = {};\n  if (!src) return out;\n  const lines = src.split(/\\r?\\n/);\n  for (const raw of lines) {\n    const line = raw.trim();\n    if (!line || line.startsWith('#')) continue;\n    const idx = line.indexOf(':');\n    if (idx === -1) continue;\n    const key = line.slice(0, idx).trim();\n    let val = line.slice(idx + 1).trim();\n    if ((val.startsWith('\"') && val.endsWith('\"')) || (val.startsWith(\"'\") && val.endsWith(\"'\"))) {\n      val = val.slice(1, -1);\n    }\n    out[key] = val;\n  }\n  return out;\n}\n\nasync function loadLocale(lang) {\n  try {\n    const mod = await import(`./locales/${lang}.yml?raw`);\n    const text = mod.default || mod;\n    return parseFlatYAML(text);\n  } catch (e) {\n    console.warn('[i18n] Failed loading locale', lang, e);\n    return {};\n  }\n}\n\n// Cache to avoid re-loading\nconst cache = {};\n\n// Synchronous fallback: eagerly read default language so no keys flash on first paint\nlet baseFallback = {};\ntry {\n  // Eagerly import all locales as raw text, then pick the default one\n  // Note: use `?raw` query to avoid deprecated `as: 'raw'` option\n  const rawLocales = import.meta.glob('./locales/*.yml?raw', { eager: true });\n  const defPath = `./locales/${defaultLanguage}.yml`;\n  // glob with ?raw includes the raw content as the default export\n  const raw = rawLocales[defPath] ? rawLocales[defPath].default || rawLocales[defPath] : '';\n  baseFallback = parseFlatYAML(raw);\n} catch (e) {\n  // If glob not supported in some context, ignore and keep empty (will async load)\n  baseFallback = {};\n}\n\nconst LanguageContext = createContext({\n  lang: defaultLanguage,\n  setLang: () => {},\n  t: (key, opts) => key,\n});\n\nexport function LanguageProvider({ children }) {\n  const [lang, setLang] = useState(() => localStorage.getItem('lang') || defaultLanguage);\n  // Initialize with base fallback for immediate translations\n  const [dicts, setDicts] = useState({ base: baseFallback, active: baseFallback });\n  const loadingRef = useRef(false);\n\n  // Initial + active language load\n  useEffect(() => {\n    let cancelled = false;\n    (async () => {\n      // Ensure base (default) is cached; prefer eager fallback\n      cache[defaultLanguage] = cache[defaultLanguage] || baseFallback || {};\n      if (Object.keys(cache[defaultLanguage]).length === 0) {\n        cache[defaultLanguage] = await loadLocale(defaultLanguage);\n      }\n      let active = cache[lang];\n      if (!active) {\n        loadingRef.current = true;\n        active = await loadLocale(lang);\n        cache[lang] = active;\n        loadingRef.current = false;\n      }\n      if (!cancelled) {\n        setDicts({\n          base: cache[defaultLanguage] || {},\n          active: active && Object.keys(active).length ? active : cache[defaultLanguage] || {},\n        });\n      }\n    })();\n    return () => {\n      cancelled = true;\n    };\n  }, [lang]);\n\n  useEffect(() => {\n    localStorage.setItem('lang', lang);\n  }, [lang]);\n\n  const t = useCallback(\n    (key, opts = {}) => {\n      const { base, active } = dicts;\n      let val = active[key] || base[key] || opts.defaultValue || key;\n      if (opts.html) return val;\n      return val;\n    },\n    [dicts]\n  );\n\n  return (\n    <LanguageContext.Provider value={{ lang, setLang, t }}>{children}</LanguageContext.Provider>\n  );\n}\n\nexport function useLanguage() {\n  return useContext(LanguageContext);\n}\nexport function useT() {\n  return useContext(LanguageContext).t;\n}\n","import React, { useEffect, useState, useRef } from 'react';\nimport { useLanguage, useT } from '../i18n/LanguageProvider.jsx';\nimport { Sun, Moon } from 'lucide-react';\nimport { availableLanguages, languageNames } from '../i18n/config.js';\n\nfunction useThemeToggle() {\n  const [theme, setTheme] = useState(() => {\n    if (typeof window === 'undefined') return 'dark';\n    return localStorage.getItem('theme') || 'dark';\n  });\n  useEffect(() => {\n    const html = document.documentElement;\n    html.classList.remove('dark-theme', 'light-theme');\n    html.classList.add(theme + '-theme');\n    localStorage.setItem('theme', theme);\n  }, [theme]);\n  const toggle = () => setTheme((t) => (t === 'dark' ? 'light' : 'dark'));\n  return { theme, toggle };\n}\n\nexport default React.memo(function Header() {\n  const { lang, setLang } = useLanguage();\n  const t = useT();\n  const { theme, toggle } = useThemeToggle();\n  const [langMenuOpen, setLangMenuOpen] = useState(false);\n  const langBtnRef = useRef(null);\n  const base = import.meta.env.BASE_URL || '/';\n\n  useEffect(() => {\n    function handleOutside(e) {\n      if (!langBtnRef.current) return;\n      if (!langBtnRef.current.closest('.lang-dropdown').contains(e.target)) {\n        setLangMenuOpen(false);\n      }\n    }\n    document.addEventListener('click', handleOutside);\n    return () => document.removeEventListener('click', handleOutside);\n  }, []);\n\n  // Scroll header style\n  const [scrolled, setScrolled] = useState(false);\n  useEffect(() => {\n    function onScroll() {\n      setScrolled(window.scrollY > 50);\n    }\n    onScroll();\n    window.addEventListener('scroll', onScroll);\n    return () => window.removeEventListener('scroll', onScroll);\n  }, []);\n\n  const navItems = [\n    { href: '#hero', key: 'nav-home' },\n    { href: '#features', key: 'nav-features' },\n    { href: '#faq', key: 'nav-faq' },\n    { href: '#join', key: 'nav-join' },\n    { href: '#stats', key: 'nav-stats' },\n  ];\n\n  return (\n    <header className={'header' + (scrolled ? ' scrolled' : '')}>\n      <div className=\"container\">\n        <div className=\"navbar\">\n          <div className=\"logo\">\n            <a href=\"#hero\">\n              <img className=\"logo-dark\" src={base + 'img/logo_dark.svg'} alt=\"Logo dark\" />\n              <img className=\"logo-light\" src={base + 'img/logo_light.svg'} alt=\"Logo light\" />\n              <span className=\"logo-text\" data-lang=\"logo-brand\">\n                GANGUI\n              </span>\n            </a>\n          </div>\n          <nav className=\"nav-menu nav-menu-right\">\n            <ul>\n              {navItems.map((item) => {\n                const currentHash =\n                  typeof window !== 'undefined' ? window.location.hash || '#hero' : '#hero';\n                const active = currentHash === item.href;\n                return (\n                  <li key={item.key}>\n                    <a href={item.href} data-lang={item.key} className={active ? 'active' : ''}>\n                      {t(item.key)}\n                    </a>\n                  </li>\n                );\n              })}\n            </ul>\n          </nav>\n          <div className=\"header-actions\">\n            <span className=\"nav-separator\" />\n            <div className={'lang-dropdown' + (langMenuOpen ? ' open' : '')}>\n              <button\n                ref={langBtnRef}\n                className=\"lang-btn globe\"\n                aria-label={t('language-selector', 'Select language')}\n                aria-expanded={langMenuOpen}\n                aria-haspopup=\"menu\"\n                id=\"langDropdownBtn\"\n                onClick={() => setLangMenuOpen((o) => !o)}\n              >\n                <svg width=\"22\" height=\"22\" viewBox=\"0 0 24 24\" fill=\"none\" aria-hidden=\"true\">\n                  <circle cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"2\" />\n                  <path\n                    d=\"M2 12h20M12 2a15 15 0 010 20M12 2a15 15 0 000 20\"\n                    stroke=\"currentColor\"\n                    strokeWidth=\"2\"\n                  />\n                </svg>\n                <span className=\"lang-current\" data-lang=\"current-lang\">\n                  {t('current-lang')}\n                </span>{' '}\n                <i className=\"fas fa-chevron-down\" aria-hidden=\"true\" />\n              </button>\n              <div\n                className=\"lang-menu\"\n                role=\"menu\"\n                aria-labelledby=\"langDropdownBtn\"\n                id=\"langDropdownMenu\"\n              >\n                {availableLanguages.map((l) => {\n                  const label = languageNames[l] || l;\n                  return (\n                    <button\n                      key={l}\n                      className={'lang-option' + (l === lang ? ' active' : '')}\n                      role=\"menuitem\"\n                      aria-current={l === lang ? 'true' : undefined}\n                      onClick={() => {\n                        setLang(l);\n                        setLangMenuOpen(false);\n                      }}\n                    >\n                      {label}\n                    </button>\n                  );\n                })}\n              </div>\n            </div>\n            <button\n              className=\"nav-icon theme-toggle\"\n              aria-label={\n                theme === 'dark'\n                  ? t('switch-to-light-theme', 'Switch to light theme')\n                  : t('switch-to-dark-theme', 'Switch to dark theme')\n              }\n              onClick={toggle}\n            >\n              {theme === 'dark' ? (\n                <Sun size={20} aria-hidden=\"true\" />\n              ) : (\n                <Moon size={20} aria-hidden=\"true\" />\n              )}\n            </button>\n          </div>\n        </div>\n      </div>\n    </header>\n  );\n});\n","import { useEffect } from 'react';\n\n// IntersectionObserver based reveal animation hook\nexport function useReveal(selector = '.section-auto-fade', options) {\n  useEffect(() => {\n    if (typeof window === 'undefined') return;\n    const elements = Array.from(document.querySelectorAll(selector));\n    if (!('IntersectionObserver' in window)) {\n      elements.forEach((el) => el.classList.add('visible'));\n      return;\n    }\n    const observer = new IntersectionObserver(\n      (entries) => {\n        entries.forEach((entry) => {\n          if (entry.isIntersecting) {\n            entry.target.classList.add('visible');\n            observer.unobserve(entry.target);\n          }\n        });\n      },\n      { threshold: 0.15, rootMargin: '40px 0px 0px 0px', ...options }\n    );\n    elements.forEach((el) => observer.observe(el));\n    return () => observer.disconnect();\n  }, [selector, options]);\n}\n","import React, { useEffect, useState } from 'react';\nimport { useT } from '../i18n/LanguageProvider.jsx';\nimport { useReveal } from '../hooks/useReveal.js';\n\nexport default React.memo(function Footer() {\n  const t = useT();\n  useReveal();\n  const base = import.meta.env.BASE_URL || '/';\n  const [serverStatus, setServerStatus] = useState({ online: false, players: 0 });\n\n  useEffect(() => {\n    const fetchStatus = async () => {\n      try {\n        const res = await fetch('https://api.mcsrvstat.us/2/gangui.eu');\n        const data = await res.json();\n        setServerStatus({\n          online: data.online || false,\n          players: data.players?.online || 0,\n        });\n      } catch (error) {\n        console.error('Failed to fetch server status:', error);\n      }\n    };\n\n    fetchStatus();\n    // Update every 5 minutes\n    const interval = setInterval(fetchStatus, 5 * 60 * 1000);\n    return () => clearInterval(interval);\n  }, []);\n  return (\n    <footer className=\"footer section-auto-fade\">\n      <div className=\"container\">\n        <div className=\"footer-top\">\n          <div className=\"footer-logo\">\n            <img className=\"logo-dark\" src={base + 'img/logo_dark.svg'} alt=\"Logo dark\" />\n            <img className=\"logo-light\" src={base + 'img/logo_light.svg'} alt=\"Logo light\" />\n          </div>\n          <div className=\"social-links\">\n            <a\n              href=\"https://discord.gg/7Kj8vsGdSr\"\n              className=\"hover-scale-sm\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              aria-label=\"Discord\"\n            >\n              <i className=\"fab fa-discord\" />\n            </a>\n            <a\n              href=\"https://youtube.com/@ganguimc\"\n              className=\"hover-scale-sm\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              aria-label=\"YouTube\"\n            >\n              <i className=\"fab fa-youtube\" />\n            </a>\n            <a\n              href=\"https://twitter.com/ganguimc\"\n              className=\"hover-scale-sm\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              aria-label=\"Twitter\"\n            >\n              <i className=\"fab fa-twitter\" />\n            </a>\n          </div>\n        </div>\n        <div className=\"footer-content\">\n          <div className=\"footer-column\">\n            <h3 data-lang=\"footer-links\">{t('footer-links')}</h3>\n            <ul>\n              <li>\n                <a href=\"#hero\" data-lang=\"footer-home\">\n                  {t('footer-home')}\n                </a>\n              </li>\n              <li>\n                <a href=\"#features\" data-lang=\"footer-features\">\n                  {t('footer-features')}\n                </a>\n              </li>\n              <li>\n                <a href=\"#faq\" data-lang=\"footer-faq\">\n                  {t('footer-faq')}\n                </a>\n              </li>\n              <li>\n                <a href=\"#join\" data-lang=\"footer-join\">\n                  {t('footer-join')}\n                </a>\n              </li>\n            </ul>\n          </div>\n          <div className=\"footer-column\">\n            <h3 data-lang=\"footer-legal\">{t('footer-legal')}</h3>\n            <ul>\n              <li>\n                <a href={base + 'legal.html#terms'} data-lang=\"footer-terms\">\n                  {t('footer-terms')}\n                </a>\n              </li>\n              <li>\n                <a href={base + 'legal.html#privacy'} data-lang=\"footer-privacy\">\n                  {t('footer-privacy')}\n                </a>\n              </li>\n              <li>\n                <a href={base + 'legal.html#rules'} data-lang=\"footer-rules\">\n                  {t('footer-rules')}\n                </a>\n              </li>\n            </ul>\n          </div>\n          <div className=\"footer-column\">\n            <h3 data-lang=\"footer-support\">{t('footer-support')}</h3>\n            <ul>\n              <li>\n                <a\n                  href=\"https://discord.gg/SM3TDgc3Km\"\n                  target=\"_blank\"\n                  rel=\"noreferrer\"\n                  data-lang=\"footer-tickets\"\n                >\n                  {t('footer-tickets')}\n                </a>\n              </li>\n              <li>\n                <a href=\"mailto:contact@gangui.eu\" data-lang=\"footer-contact\">\n                  {t('footer-contact')}\n                </a>\n              </li>\n            </ul>\n          </div>\n          <div className=\"footer-column server-status\">\n            <h3 data-lang=\"footer-status\">{t('footer-status')}</h3>\n            <div className=\"status-indicator\">\n              <span className={`status-dot ${serverStatus.online ? 'online' : 'offline'}`} />\n              <span data-lang={serverStatus.online ? 'status-online' : 'status-offline'}>\n                {serverStatus.online ? t('status-online') : t('status-offline')}\n              </span>\n            </div>\n            <div className=\"server-info\">\n              <div className=\"info-item\">\n                <span className=\"info-label\" data-lang=\"status-players\">\n                  {t('status-players')}\n                </span>\n                <span className=\"info-value player-count\">{serverStatus.players}</span>\n              </div>\n              <div className=\"info-item\">\n                <span className=\"info-label\" data-lang=\"status-version\">\n                  {t('status-version')}\n                </span>\n                <span className=\"info-value\">1.8 & 1.21</span>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"footer-bottom\">\n          <p className=\"copyright\">© 2025 GANGUI.</p>\n          <p className=\"disclaimer\" data-lang=\"footer-disclaimer\">\n            {t('footer-disclaimer')}\n          </p>\n        </div>\n      </div>\n    </footer>\n  );\n});\n","import React, { useEffect, useRef } from 'react';\nimport { useT } from '../i18n/LanguageProvider.jsx';\nimport { useReveal } from '../hooks/useReveal.js';\n\nexport default function Hero() {\n  const t = useT();\n  const wrapperRef = useRef(null);\n  useEffect(() => {\n    const container = wrapperRef.current;\n    if (!container) return;\n    const texts = Array.from(container.querySelectorAll('.title-text'));\n    let idx = 0;\n    texts.forEach((t) => t.classList.remove('active', 'slide-up'));\n    if (texts[0]) texts[0].classList.add('active');\n    const interval = setInterval(() => {\n      if (document.hidden || texts.length === 0) return;\n      texts[idx]?.classList.remove('active');\n      idx = (idx + 1) % texts.length;\n      const el = texts[idx];\n      if (el) {\n        el.classList.add('slide-up');\n        void el.offsetWidth; // force reflow\n        el.classList.add('active');\n        setTimeout(() => el.classList.remove('slide-up'), 500);\n      }\n    }, 2500);\n    return () => clearInterval(interval);\n  }, []);\n\n  useReveal();\n  return (\n    <section id=\"hero\" className=\"hero section-auto-fade\">\n      <div className=\"container hero-flex\">\n        <div className=\"hero-left\" style={{ width: '100%' }}>\n          <span className=\"hero-brand\">GANGUI</span>\n          <h1 className=\"hero-title\" tabIndex=\"-1\">\n            <span className=\"title-container\" ref={wrapperRef}>\n              <span className=\"title-wrapper\">\n                <span className=\"title-text\" data-lang=\"hero-title-main\">\n                  {t('hero-title-main')}\n                </span>\n                <span className=\"title-text\" data-lang=\"hero-title-unique\">\n                  {t('hero-title-unique')}\n                </span>\n                <span className=\"title-text\" data-lang=\"hero-title-community\">\n                  {t('hero-title-community')}\n                </span>\n                <span className=\"title-text\" data-lang=\"hero-title-adventure\">\n                  {t('hero-title-adventure')}\n                </span>\n              </span>\n            </span>\n          </h1>\n          <p className=\"hero-desc\" data-lang=\"hero-desc\">\n            {t('hero-desc')}\n          </p>\n          <div className=\"hero-buttons hero-buttons-inline\">\n            <a href=\"#join\" className=\"btn btn-primary hover-scale-sm\">\n              <i className=\"fas fa-gamepad\" />\n              <span data-lang=\"hero-play\">{t('hero-play')}</span>\n            </a>\n            <a\n              href=\"https://discord.gg/7Kj8vsGdSr\"\n              className=\"btn btn-discord hover-scale-sm\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              <i className=\"fab fa-discord\" />\n              <span data-lang=\"hero-discord\">{t('hero-discord')}</span>\n            </a>\n            <a href=\"#features\" className=\"btn btn-secondary btn-outline hover-scale-sm\">\n              <i className=\"fas fa-bolt\" />\n              <span data-lang=\"hero-features\">{t('hero-features')}</span>\n            </a>\n            <a\n              href=\"https://github.com/ganguimc/\"\n              className=\"btn btn-dark btn-outline btn-border-light hover-scale-sm\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              <i className=\"fab fa-github\" />\n              <span>GitHub</span>\n            </a>\n          </div>\n        </div>\n      </div>\n      <div className=\"hero-bg\" />\n    </section>\n  );\n}\n","import React, { useEffect, useRef, useState } from 'react';\nimport { useT } from '../i18n/LanguageProvider.jsx';\nimport { useReveal } from '../hooks/useReveal.js';\n\nexport default function Features() {\n  const t = useT();\n  const carouselRef = useRef(null);\n  const dotsRef = useRef(null);\n  const [current, setCurrent] = useState(0);\n  const [paused, setPaused] = useState(false);\n\n  const showSlide = (i, smooth = true) => {\n    const carousel = carouselRef.current;\n    if (!carousel) return;\n    const cards = Array.from(carousel.querySelectorAll('.feature-card'));\n    if (cards.length === 0) return;\n    const idx = ((i % cards.length) + cards.length) % cards.length;\n    setCurrent(idx);\n    const target = cards[idx];\n    // Center the target card within the carousel viewport\n    const left =\n      target.offsetLeft - carousel.offsetLeft - (carousel.clientWidth - target.clientWidth) / 2;\n    carousel.scrollTo({ left, behavior: smooth ? 'smooth' : 'auto' });\n  };\n\n  useEffect(() => {\n    const carousel = carouselRef.current;\n    if (!carousel) return;\n    const cards = Array.from(carousel.querySelectorAll('.feature-card'));\n    function ensureDots() {\n      const dotsC = dotsRef.current;\n      if (!dotsC) return;\n      if (dotsC.children.length !== cards.length) {\n        dotsC.innerHTML = '';\n        cards.forEach((_, i) => {\n          const span = document.createElement('span');\n          span.className = 'carousel-dot';\n          span.addEventListener('click', () => showSlide(i));\n          dotsC.appendChild(span);\n        });\n      }\n    }\n    function syncActive() {\n      cards.forEach((c, i) => c.classList.toggle('active', i === current));\n      const dotsC = dotsRef.current;\n      if (!dotsC) return;\n      Array.from(dotsC.children).forEach((d, i) => d.classList.toggle('active', i === current));\n    }\n    ensureDots();\n    syncActive();\n    let scrollRaf = null;\n    const onScroll = () => {\n      if (scrollRaf) cancelAnimationFrame(scrollRaf);\n      scrollRaf = requestAnimationFrame(() => {\n        const center = carousel.scrollLeft + carousel.offsetWidth / 2;\n        let best = 0;\n        let bestDiff = Infinity;\n        cards.forEach((card, i) => {\n          const cardCenter = card.offsetLeft - carousel.offsetLeft + card.offsetWidth / 2;\n          const diff = Math.abs(center - cardCenter);\n          if (diff < bestDiff) {\n            bestDiff = diff;\n            best = i;\n          }\n        });\n        if (best !== current) setCurrent(best);\n      });\n    };\n    const handleKeyDown = (e) => {\n      if (e.key === 'ArrowLeft') showSlide(current - 1);\n      if (e.key === 'ArrowRight') showSlide(current + 1);\n    };\n    // Pause auto-advance on hover/focus within\n    const onEnter = () => setPaused(true);\n    const onLeave = () => setPaused(false);\n    const onFocusIn = () => setPaused(true);\n    const onFocusOut = () => setPaused(false);\n    // Block horizontal wheel/trackpad scroll on the carousel (keep page vertical scroll)\n    const onWheel = (e) => {\n      const absX = Math.abs(e.deltaX);\n      const absY = Math.abs(e.deltaY);\n      if (absX > absY) {\n        e.preventDefault();\n      }\n    };\n    // No mouse wheel handling: keep page scroll natural; use dots/click/keys to navigate\n    carousel.addEventListener('scroll', onScroll);\n    carousel.addEventListener('keydown', handleKeyDown);\n    carousel.addEventListener('mouseenter', onEnter);\n    carousel.addEventListener('mouseleave', onLeave);\n    carousel.addEventListener('focusin', onFocusIn);\n    carousel.addEventListener('focusout', onFocusOut);\n    carousel.addEventListener('wheel', onWheel, { passive: false });\n    const resize = () => showSlide(current, false);\n    window.addEventListener('resize', resize);\n    return () => {\n      carousel.removeEventListener('scroll', onScroll);\n      carousel.removeEventListener('keydown', handleKeyDown);\n      carousel.removeEventListener('mouseenter', onEnter);\n      carousel.removeEventListener('mouseleave', onLeave);\n      carousel.removeEventListener('focusin', onFocusIn);\n      carousel.removeEventListener('focusout', onFocusOut);\n      carousel.removeEventListener('wheel', onWheel);\n      // no wheel handler attached\n      window.removeEventListener('resize', resize);\n    };\n  }, [current]);\n\n  useEffect(() => {\n    const carousel = carouselRef.current;\n    if (!carousel) return;\n    const cards = Array.from(carousel.querySelectorAll('.feature-card'));\n    cards.forEach((c, i) => c.classList.toggle('active', i === current));\n    const dotsC = dotsRef.current;\n    if (dotsC)\n      Array.from(dotsC.children).forEach((d, i) => d.classList.toggle('active', i === current));\n  }, [current]);\n\n  useReveal();\n  // Auto-advance every 5s; pause when hovered/focused or when page hidden\n  useEffect(() => {\n    const handleVis = () => setPaused(document.hidden);\n    document.addEventListener('visibilitychange', handleVis);\n    const id = setInterval(() => {\n      if (!paused) {\n        showSlide(current + 1);\n      }\n    }, 3000);\n    return () => {\n      clearInterval(id);\n      document.removeEventListener('visibilitychange', handleVis);\n    };\n  }, [current, paused]);\n  return (\n    <section id=\"features\" className=\"features section-auto-fade\">\n      <div className=\"container\">\n        <div className=\"section-header\">\n          <h2 data-lang=\"features-title\" tabIndex=\"-1\">\n            {t('features-title')}\n          </h2>\n          <p data-lang=\"features-subtitle\">{t('features-subtitle')}</p>\n        </div>\n        <div className=\"features-carousel-wrapper\">\n          <div\n            className=\"features-grid carousel\"\n            ref={carouselRef}\n            tabIndex={0}\n            style={{ outline: 'none' }}\n          >\n            <div\n              className=\"feature-card elevated gradient-border hover-scale-sm\"\n              onClick={() => showSlide(0)}\n            >\n              <div className=\"feature-icon\">\n                <i className=\"fas fa-bolt\" />\n              </div>\n              <h3 data-lang=\"feature1-title\">{t('feature1-title')}</h3>\n              <p data-lang=\"feature1-desc\">{t('feature1-desc')}</p>\n            </div>\n            <div\n              className=\"feature-card elevated gradient-border hover-scale-sm\"\n              onClick={() => showSlide(1)}\n            >\n              <div className=\"feature-icon\">\n                <i className=\"fas fa-user-secret\" />\n              </div>\n              <h3 data-lang=\"feature2-title\">{t('feature2-title')}</h3>\n              <p data-lang=\"feature2-desc\">{t('feature2-desc')}</p>\n            </div>\n            <div\n              className=\"feature-card elevated gradient-border hover-scale-sm\"\n              onClick={() => showSlide(2)}\n            >\n              <div className=\"feature-icon\">\n                <i className=\"fas fa-robot\" />\n              </div>\n              <h3 data-lang=\"feature3-title\">{t('feature3-title')}</h3>\n              <p data-lang=\"feature3-desc\">{t('feature3-desc')}</p>\n            </div>\n            <div\n              className=\"feature-card elevated gradient-border hover-scale-sm\"\n              onClick={() => showSlide(3)}\n            >\n              <div className=\"feature-icon\">\n                <i className=\"fas fa-layer-group\" />\n              </div>\n              <h3 data-lang=\"feature4-title\">{t('feature4-title')}</h3>\n              <p data-lang=\"feature4-desc\">{t('feature4-desc')}</p>\n            </div>\n          </div>\n          <div className=\"carousel-dots\" ref={dotsRef} />\n        </div>\n      </div>\n    </section>\n  );\n}\n","import React, { useState } from 'react';\nimport { useT } from '../i18n/LanguageProvider.jsx';\nimport { useReveal } from '../hooks/useReveal.js';\n\nconst items = [\n  { qKey: 'faq1-question', aKey: 'faq1-answer' },\n  { qKey: 'faq2-question', aKey: 'faq2-answer' },\n  { qKey: 'faq3-question', aKey: 'faq3-answer' },\n  { qKey: 'faq4-question', aKey: 'faq4-answer' },\n  { qKey: 'faq5-question', aKey: 'faq5-answer' },\n];\n\nexport default function FAQ() {\n  const t = useT();\n  const [open, setOpen] = useState(null);\n  useReveal();\n  return (\n    <section id=\"faq\" className=\"faq section-auto-fade\">\n      <div className=\"container\">\n        <div className=\"section-header\">\n          <h2 data-lang=\"faq-title\" tabIndex=\"-1\">\n            {t('faq-title')}\n          </h2>\n          <p data-lang=\"faq-subtitle\">{t('faq-subtitle')}</p>\n        </div>\n        <div className=\"faq-content\">\n          {items.map((it, i) => {\n            const active = open === i;\n            return (\n              <div\n                key={it.qKey}\n                className={'faq-item gradient-border hover-scale-sm' + (active ? ' active' : '')}\n              >\n                <div className=\"faq-question\" onClick={() => setOpen(active ? null : i)}>\n                  <h3 data-lang={it.qKey}>{t(it.qKey)}</h3>\n                  <div className=\"faq-toggle\">\n                    <i className=\"fas fa-chevron-down\" />\n                  </div>\n                </div>\n                <div className=\"faq-answer\" style={active ? { maxHeight: '3000px' } : undefined}>\n                  <p data-lang={it.aKey}>{t(it.aKey)}</p>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    </section>\n  );\n}\n","import React from 'react';\nimport { useT } from '../i18n/LanguageProvider.jsx';\nimport { useReveal } from '../hooks/useReveal.js';\n\nexport default function Join() {\n  const t = useT();\n  function copyIP(e) {\n    e.preventDefault();\n    navigator.clipboard.writeText('mc.gangui.eu').catch(() => {});\n  }\n  useReveal();\n  return (\n    <section id=\"join\" className=\"join section-auto-fade\">\n      <div className=\"container\">\n        <div className=\"join-content\">\n          <div className=\"section-header\">\n            <h2 data-lang=\"join-title\" tabIndex=\"-1\">\n              {t('join-title')}\n            </h2>\n            <p data-lang=\"join-subtitle\">{t('join-subtitle')}</p>\n          </div>\n          <div className=\"join-steps\">\n            <div\n              className=\"join-step elevated gradient-border hover-scale-sm\"\n              onClick={copyIP}\n              style={{ cursor: 'pointer' }}\n            >\n              <div className=\"step-number\">\n                <i className=\"fas fa-copy\" />\n              </div>\n              <div className=\"step-content\">\n                <h3 data-lang=\"step1-title\">{t('step1-title')}</h3>\n                <p\n                  data-lang-html=\"step1-desc\"\n                  dangerouslySetInnerHTML={{ __html: t('step1-desc', { html: true }) }}\n                />\n              </div>\n            </div>\n            <div className=\"join-step elevated gradient-border hover-scale-sm\">\n              <div className=\"step-number\">\n                <i className=\"fas fa-plus-square\" />\n              </div>\n              <div className=\"step-content\">\n                <h3 data-lang=\"step2-title\">{t('step2-title')}</h3>\n                <p data-lang=\"step2-desc\">{t('step2-desc')}</p>\n              </div>\n            </div>\n            <div className=\"join-step elevated gradient-border hover-scale-sm\">\n              <div className=\"step-number\">\n                <i className=\"fas fa-play\" />\n              </div>\n              <div className=\"step-content\">\n                <h3 data-lang=\"step3-title\">{t('step3-title')}</h3>\n                <p data-lang=\"step3-desc\">{t('step3-desc')}</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"join-bg\" />\n    </section>\n  );\n}\n","import { useCallback, useEffect, useRef, useState } from 'react';\n\n// Public error codes used by the hook\nexport const ERROR_CODES = {\n  EMPTY: 'empty',\n  NOT_FOUND: 'notfound',\n  ERROR: 'error',\n  RATE_LIMIT: 'ratelimited',\n};\n\n// Simple translation helper (fallback only)\nconst t = (key, fallback) => fallback || key;\n\n// No local mock DB: rely on backend if configured, otherwise Mojang only\n\n// Optional API base (configure with VITE_API_BASE_URL), defaults to same-origin\nconst API_BASE =\n  (typeof import.meta !== 'undefined' && import.meta.env && import.meta.env.VITE_API_BASE_URL) ||\n  '';\n\nfunction formatDate(timestamp) {\n  if (!timestamp) return t('stats-na', 'N/A');\n  const d = new Date(timestamp);\n  return d.toLocaleDateString();\n}\nfunction formatPlayTime(ms) {\n  if (ms == null) return t('stats-na', 'N/A');\n  let s = Math.floor(ms / 1000);\n  let m = Math.floor(s / 60);\n  let h = Math.floor(m / 60);\n  s %= 60;\n  m %= 60;\n  return `${h > 0 ? h + 'h ' : ''}${m > 0 ? m + 'm ' : ''}${s}s`.trim();\n}\nfunction formatUUID(uuid) {\n  if (!uuid || uuid.length !== 32) return uuid || 'N/A';\n  return `${uuid.substring(0, 8)}-${uuid.substring(8, 12)}-${uuid.substring(12, 16)}-${uuid.substring(16, 20)}-${uuid.substring(20)}`;\n}\n\n// --- Profile cache (memory + localStorage) ---\nconst CACHE_KEY = 'mcProfileCache';\nconst profileCache = { usernameToUuid: {}, uuidToName: {} };\n// Load cache from localStorage\ntry {\n  if (typeof window !== 'undefined' && typeof localStorage !== 'undefined') {\n    const raw = localStorage.getItem(CACHE_KEY);\n    if (raw) Object.assign(profileCache, JSON.parse(raw));\n  }\n} catch (e) {\n  console.error('Failed to load profile cache from localStorage:', e);\n}\nfunction saveProfileCache() {\n  try {\n    if (typeof window !== 'undefined' && typeof localStorage !== 'undefined') {\n      localStorage.setItem(CACHE_KEY, JSON.stringify(profileCache));\n    }\n  } catch (e) {\n    console.error('Failed to save profile cache to localStorage:', e);\n  }\n}\n\n// --- Username → UUID (playerdb.co, fallback Mojang, cache) ---\nasync function getProfileFromUsername(username) {\n  const uname = username.toLowerCase();\n  if (profileCache.usernameToUuid[uname]) return profileCache.usernameToUuid[uname];\n  // 1. playerdb.co\n  try {\n    const resp = await fetch(\n      `https://playerdb.co/api/player/minecraft/${encodeURIComponent(uname)}`\n    );\n    if (resp.ok) {\n      const data = await resp.json();\n      const p = data?.data?.player;\n      if (data?.success && p?.id && p?.username) {\n        const result = { uuid: p.id.replace(/-/g, ''), name: p.username };\n        profileCache.usernameToUuid[uname] = result;\n        profileCache.uuidToName[result.uuid] = result.name;\n        saveProfileCache();\n        return result;\n      }\n    }\n  } catch {}\n  // 2. Fallback Mojang official API\n  try {\n    const resp = await fetch(\n      `https://api.mojang.com/users/profiles/minecraft/${encodeURIComponent(uname)}`\n    );\n    if (!resp.ok) return null;\n    const data = await resp.json();\n    if (data?.id && data?.name) {\n      const result = { uuid: data.id.replace(/-/g, ''), name: data.name };\n      profileCache.usernameToUuid[uname] = result;\n      profileCache.uuidToName[result.uuid] = result.name;\n      saveProfileCache();\n      return result;\n    }\n  } catch {}\n  return null;\n}\n\n// --- UUID → Username (Mojang, cache) ---\nasync function getProfileFromUUID(uuid) {\n  const clean = uuid.replace(/-/g, '');\n  if (profileCache.uuidToName[clean]) return { name: profileCache.uuidToName[clean] };\n  try {\n    // Mojang sessionserver returns full profile including name\n    const resp = await fetch(`https://sessionserver.mojang.com/session/minecraft/profile/${clean}`);\n    if (!resp.ok) return null;\n    const data = await resp.json();\n    if (data?.name) {\n      profileCache.uuidToName[clean] = data.name;\n      saveProfileCache();\n      return { name: data.name };\n    }\n  } catch {}\n  return null;\n}\n\n// --- Skin URL helper ---\nfunction getSkinUrl(uuid) {\n  if (!uuid) return '/img/player-skin.png';\n  const clean = uuid.replace(/-/g, '');\n  return `https://crafatar.com/skins/${clean}?default=MHF_Steve&size=256`;\n}\n\nfunction getCandidateSkinUrls(uuid) {\n  const clean = (uuid || '').replace(/-/g, '');\n  if (!clean || !/^[0-9a-fA-F]{32}$/.test(clean)) {\n    return ['/img/player-skin.png'];\n  }\n  return [\n    `https://mc-heads.net/skin/${clean}`,\n    `https://minotar.net/skin/${clean}`,\n    `https://crafatar.com/skins/${clean}?size=256&default=MHF_Steve`,\n    '/img/player-skin.png',\n  ];\n}\n\nasync function resolveFirstWorkingImage(urls) {\n  for (const url of urls) {\n    try {\n      const ok = await new Promise((resolve) => {\n        const img = new Image();\n        let settled = false;\n        const settle = (res) => {\n          if (!settled) {\n            settled = true;\n            resolve(res);\n          }\n        };\n        img.onload = () => settle(true);\n        img.onerror = () => settle(false);\n        img.src = url;\n        // 2s safety timeout to skip stuck images\n        setTimeout(() => settle(false), 2000);\n      });\n      if (ok) return url;\n    } catch {}\n  }\n  return '/img/player-skin.png';\n}\n\n// Try backend first to retrieve player profile + stats\nasync function getPlayerFromBackend(query) {\n  if (!API_BASE) return null;\n  const q = encodeURIComponent(query);\n  // Accept username or uuid; backend should resolve accordingly\n  const url = `${API_BASE}/api/players/${q}`;\n  try {\n    const resp = await fetch(url, { headers: { Accept: 'application/json' } });\n    if (!resp.ok) return null;\n    const data = await resp.json();\n    if (!data) return null;\n    // Normalize fields from backend to our shape\n    const uuidRaw = (data.uuid || data.id || '').toString();\n    const uuid = uuidRaw.replace(/-/g, '');\n    const playTimeMs =\n      typeof data.playTimeMs === 'number'\n        ? data.playTimeMs\n        : typeof data.playTime === 'number'\n          ? data.playTime\n          : typeof data.playTimeHours === 'number'\n            ? Math.round(data.playTimeHours * 3600 * 1000)\n            : null;\n    return {\n      uuid: uuid && /^[0-9a-fA-F]{32}$/.test(uuid) ? uuid : null,\n      displayName: data.username || data.name || query,\n      rank: data.rank || undefined,\n      isOnline: !!data.isOnline,\n      firstSeen: data.firstSeen || null,\n      lastSeen: data.lastSeen || null,\n      playTime: playTimeMs,\n      coins: typeof data.coins === 'number' ? data.coins : undefined,\n      wasBanned:\n        data.was_banned === true || (typeof data.banned === 'number' && data.banned > 0) || false,\n      bannedAt: typeof data.banned === 'number' ? data.banned : undefined,\n      // Stats (optional, depending on backend availability)\n      playedGamesByType: data.playedGamesByType || undefined,\n      timeByGamePct: data.timeByGamePct || undefined,\n      winRateByGame: data.winRateByGame || undefined,\n    };\n  } catch (_) {\n    return null;\n  }\n}\n\n// Public API fallback (provided URL)\n// In development prefer the dev-server proxy path (`/api-public`) so requests go through Vite's proxy.\n// In production default to the HTTPS API on api.gangui.eu unless overridden by VITE_PUBLIC_API_BASE.\nconst PUBLIC_API_BASE =\n  (typeof import.meta !== 'undefined' && import.meta.env && import.meta.env.VITE_PUBLIC_API_BASE) ||\n  (typeof import.meta !== 'undefined' && import.meta.env && import.meta.env.DEV\n    ? '/api-public'\n    : 'https://api.gangui.eu/v1');\nconst PUBLIC_API_TIME_UNIT = (\n  (typeof import.meta !== 'undefined' &&\n    import.meta.env &&\n    import.meta.env.VITE_PUBLIC_API_TIME_UNIT) ||\n  'seconds'\n).toLowerCase();\n\nfunction toMsFromUnit(value) {\n  if (typeof value !== 'number') return null;\n  switch (PUBLIC_API_TIME_UNIT) {\n    case 'ms':\n    case 'millisecond':\n    case 'milliseconds':\n      return value;\n    case 's':\n    case 'sec':\n    case 'second':\n    case 'seconds':\n      return Math.round(value * 1000);\n    case 'm':\n    case 'min':\n    case 'minute':\n    case 'minutes':\n      return Math.round(value * 60 * 1000);\n    case 'h':\n    case 'hr':\n    case 'hour':\n    case 'hours':\n      return Math.round(value * 3600 * 1000);\n    default:\n      return Math.round(value * 1000);\n  }\n}\nasync function getPlayerFromPublicApi(query) {\n  const q = encodeURIComponent(query);\n  const url = `${PUBLIC_API_BASE}/profile/${q}`;\n  try {\n    let resp = await fetch(url, { headers: { Accept: 'application/json' } });\n    if (resp.status === 429) {\n      // simple backoff and one retry\n      await new Promise((r) => setTimeout(r, 800));\n      resp = await fetch(url, { headers: { Accept: 'application/json' } });\n    }\n    if (resp.status === 429) {\n      // signal rate limit to caller\n      return { rateLimited: true };\n    }\n    if (!resp.ok) return null;\n    const data = await resp.json();\n    if (!data) return null;\n    // Normalize fields according to API README\n    const uuidRaw = (data.uuid || '').toString();\n    const uuid = uuidRaw.replace(/-/g, '');\n    const onlineTime = data.online_time;\n    const playTimeMs = typeof onlineTime === 'number' ? toMsFromUnit(onlineTime) : null;\n\n    // Coins field may be named `coins` in the API\n    const coins = typeof data.coins === 'number' ? data.coins : undefined;\n\n    // Compute global winrate if played/wins provided\n    const played = typeof data.played === 'number' ? data.played : undefined;\n    const wins = typeof data.wins === 'number' ? data.wins : undefined;\n    const losses = typeof data.losses === 'number' ? data.losses : undefined;\n    const globalWinRate =\n      played && played > 0 && typeof wins === 'number'\n        ? Math.round((wins / played) * 100)\n        : undefined;\n\n    // Map achievements/emblems/muted directly\n    const achievements = data.achievements || undefined;\n    const emblems = data.emblems || undefined;\n\n    // Build a minimal playedGamesByType if only aggregate numbers are present\n    const playedGamesByType = data.playedGamesByType || (played ? { All: played } : undefined);\n    const winRateByGame =\n      data.winRateByGame || (globalWinRate ? { Global: globalWinRate } : undefined);\n\n    return {\n      uuid: uuid && /^[0-9a-fA-F]{32}$/.test(uuid) ? uuid : null,\n      displayName: data.username || query,\n      rank: data.rank || undefined,\n      isOnline: !!data.is_online || false,\n      firstSeen: typeof data.first_login === 'number' ? data.first_login : data.first_login || null,\n      lastSeen: typeof data.last_seen === 'number' ? data.last_seen : data.last_seen || null,\n      playTime: playTimeMs,\n      coins: coins,\n      wasBanned: data.was_banned === true || false,\n      bannedAt: typeof data.banned === 'number' ? data.banned : undefined,\n      muted: typeof data.muted === 'number' ? data.muted : undefined,\n      achievements: achievements,\n      emblems: emblems,\n      playedGamesByType: playedGamesByType,\n      timeByGamePct: data.timeByGamePct || undefined,\n      winRateByGame: winRateByGame,\n      // preserve raw aggregate fields if present\n      aggregate: {\n        played,\n        wins,\n        losses,\n      },\n    };\n  } catch (_) {\n    return null;\n  }\n}\n\nexport function usePlayerStats(initialQuery) {\n  const [query, setQuery] = useState(initialQuery || '');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [player, setPlayer] = useState(null);\n  const [skinReady, setSkinReady] = useState(false);\n  const skinViewerRef = useRef(null);\n  const containerRef = useRef(null);\n  const lastSearchIdRef = useRef(0);\n\n  const search = useCallback(async (inputQuery) => {\n    const mySearchId = ++lastSearchIdRef.current;\n    const q = (inputQuery ?? '').trim();\n    if (!q) {\n      setError(ERROR_CODES.EMPTY);\n      setPlayer(null);\n      return;\n    }\n    setLoading(true);\n    setError(null);\n    // Force le reset du fade-in même si le skin ne change pas\n    setSkinReady(false);\n    try {\n      // 1) Prefer public API\n      const publicApi = await getPlayerFromPublicApi(q);\n      if (mySearchId !== lastSearchIdRef.current) return; // stale\n      if (publicApi && publicApi.rateLimited) {\n        setError(ERROR_CODES.RATE_LIMIT);\n        return;\n      }\n      if (publicApi && publicApi.uuid) {\n        setPlayer({ ...publicApi, skinUrl: getSkinUrl(publicApi.uuid) });\n        return;\n      }\n\n      // 1b) Try backend\n      let backend = await getPlayerFromBackend(q);\n      if (mySearchId !== lastSearchIdRef.current) return; // stale\n      if (backend && backend.uuid) {\n        setPlayer({ ...backend, skinUrl: getSkinUrl(backend.uuid) });\n        return;\n      }\n\n      // 2) Fallback public APIs\n      let uuid = null;\n      let displayName = q;\n      const cleaned = q.replace(/-/g, '');\n      if (/^[0-9a-fA-F]{32}$/.test(cleaned)) {\n        uuid = cleaned;\n        const prof = await getProfileFromUUID(uuid);\n        if (prof?.name) displayName = prof.name;\n      } else {\n        const prof = await getProfileFromUsername(q);\n        if (prof) {\n          uuid = prof.uuid;\n          displayName = prof.name;\n        }\n      }\n      if (mySearchId !== lastSearchIdRef.current) return; // stale\n      if (!uuid || !/^[0-9a-fA-F]{32}$/.test(uuid)) {\n        // Fallback Steve, mais toujours afficher le pseudo saisi\n        setError(ERROR_CODES.NOT_FOUND);\n        setPlayer({\n          uuid: null,\n          displayName: q, // toujours le texte de la recherche\n          rank: undefined,\n          isOnline: false,\n          firstSeen: null,\n          lastSeen: null,\n          playTime: null,\n          skinUrl: getSkinUrl(null),\n        });\n        return;\n      }\n      setPlayer({\n        uuid,\n        displayName: displayName || q, // prefer resolved name when available\n        rank: undefined,\n        isOnline: false,\n        firstSeen: null,\n        lastSeen: null,\n        playTime: null,\n        skinUrl: getSkinUrl(uuid),\n      });\n    } catch (e) {\n      setError(ERROR_CODES.ERROR);\n    } finally {\n      if (mySearchId === lastSearchIdRef.current) setLoading(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (initialQuery) {\n      search(initialQuery);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [initialQuery]);\n\n  // Skin viewer dynamic import\n  useEffect(() => {\n    let disposed = false;\n    let rafId = null;\n    let angle = 0;\n    const rotationEnabledRef = { current: true };\n    let ro = null;\n    async function loadSkin() {\n      if (!player || !containerRef.current) return;\n      try {\n        setSkinReady(false);\n        // Resolve a working skin URL across multiple providers to avoid 500s\n        const candidates = getCandidateSkinUrls(player.uuid);\n        const skinUrlFinal = await resolveFirstWorkingImage(candidates);\n        const { SkinViewer, IdleAnimation } = await import('skinview3d');\n        if (disposed) return;\n        containerRef.current.innerHTML = '';\n        const width = containerRef.current.offsetWidth || 200;\n        const height = containerRef.current.offsetHeight || 300;\n        skinViewerRef.current = new SkinViewer({\n          width,\n          height,\n          skin: skinUrlFinal,\n          zoom: 0.0,\n        });\n        containerRef.current.appendChild(skinViewerRef.current.canvas);\n        skinViewerRef.current.camera.position.set(0, 1.5, 42);\n        if (typeof skinViewerRef.current.camera.lookAt === 'function') {\n          // Some builds accept numbers; otherwise, this is a no-op if not supported\n          try {\n            skinViewerRef.current.camera.lookAt(0, 0.9, 0);\n          } catch {}\n        }\n        const idle = new IdleAnimation();\n        if (skinViewerRef.current.animations?.add) skinViewerRef.current.animations.add(idle);\n        idle.speed = 0.6;\n        if (idle.play) idle.play();\n\n        // Slow continuous rotation around Y axis\n        const animate = () => {\n          if (disposed || !skinViewerRef.current) return;\n          if (rotationEnabledRef.current) {\n            angle += 0.003; // adjust speed here\n          }\n          if (skinViewerRef.current.playerObject) {\n            skinViewerRef.current.playerObject.rotation.y = angle;\n          }\n          // render a frame if available\n          if (typeof skinViewerRef.current.render === 'function') {\n            skinViewerRef.current.render();\n          }\n          rafId = requestAnimationFrame(animate);\n        };\n        // Mark as ready juste après l'instanciation du viewer (image déjà préchargée)\n        setSkinReady(true);\n        rafId = requestAnimationFrame(animate);\n\n        // Interactions: stop rotation on click, block zoom\n        const canvas = skinViewerRef.current.canvas;\n        if (canvas) {\n          const onDown = () => {\n            rotationEnabledRef.current = false;\n          };\n          const onUp = () => {\n            rotationEnabledRef.current = true;\n          };\n          const onLeave = () => {\n            rotationEnabledRef.current = true;\n          };\n          const onWheel = (e) => {\n            e.preventDefault();\n          };\n          canvas.addEventListener('mousedown', onDown, { passive: true });\n          canvas.addEventListener('mouseup', onUp, { passive: true });\n          canvas.addEventListener('mouseleave', onLeave, { passive: true });\n          canvas.addEventListener('touchstart', onDown, { passive: true });\n          canvas.addEventListener('touchend', onUp, { passive: true });\n          canvas.addEventListener('touchcancel', onLeave, { passive: true });\n          canvas.addEventListener('wheel', onWheel, { passive: false });\n          // Keep inside box on resize\n          if (typeof ResizeObserver !== 'undefined') {\n            ro = new ResizeObserver(() => {\n              if (!skinViewerRef.current) return;\n              const w = containerRef.current.offsetWidth || 200;\n              const h = containerRef.current.offsetHeight || 300;\n              try {\n                if (typeof skinViewerRef.current.setSize === 'function') {\n                  skinViewerRef.current.setSize(w, h);\n                } else if (typeof skinViewerRef.current.resize === 'function') {\n                  skinViewerRef.current.resize(w, h);\n                } else {\n                  // fallback: recreate\n                  // trigger re-render by setting skin again\n                  skinViewerRef.current.width = w;\n                  skinViewerRef.current.height = h;\n                }\n              } catch {}\n            });\n            ro.observe(containerRef.current);\n          }\n          // Cleanup listeners on dispose\n          const cleanup = () => {\n            try {\n              canvas.removeEventListener('mousedown', onDown);\n            } catch {}\n            try {\n              canvas.removeEventListener('mouseup', onUp);\n            } catch {}\n            try {\n              canvas.removeEventListener('mouseleave', onLeave);\n            } catch {}\n            try {\n              canvas.removeEventListener('touchstart', onDown);\n            } catch {}\n            try {\n              canvas.removeEventListener('touchend', onUp);\n            } catch {}\n            try {\n              canvas.removeEventListener('touchcancel', onLeave);\n            } catch {}\n            try {\n              canvas.removeEventListener('wheel', onWheel);\n            } catch {}\n          };\n          // Attach cleanup to ref for use on unmount\n          skinViewerRef.current._cleanupListeners = cleanup;\n        }\n      } catch (e) {\n        // Même en cas d'échec, ne pas garder la zone cachée\n        setSkinReady(true);\n        /* ignore */\n      }\n    }\n    loadSkin();\n    return () => {\n      disposed = true;\n      if (rafId) cancelAnimationFrame(rafId);\n      if (skinViewerRef.current?.dispose) skinViewerRef.current.dispose();\n      if (skinViewerRef.current?._cleanupListeners) {\n        try {\n          skinViewerRef.current._cleanupListeners();\n        } catch {}\n      }\n      if (ro) {\n        try {\n          ro.disconnect();\n        } catch {}\n      }\n      setSkinReady(false);\n    };\n  }, [player]);\n\n  return {\n    state: { query, loading, error, player, skinReady },\n    actions: { setQuery, search },\n    utils: { formatDate, formatPlayTime, formatUUID },\n    skinContainerRef: containerRef,\n  };\n}\n","import React, { useEffect, useMemo, useState } from 'react';\nimport { Search as SearchIcon } from 'lucide-react';\nimport { useT } from '../i18n/LanguageProvider.jsx';\nimport { useReveal } from '../hooks/useReveal.js';\nimport { usePlayerStats } from '../hooks/usePlayerStats.js';\n\n// formatters now defined inside component to leverage i18n\n\n// --- Consistent chart system (shared theme, legend, and three chart types) ---\nconst chartTheme = {\n  palette: ['#5865F2', '#fc8b4f', '#85a2d5', '#ffd166', '#3ba779', '#e86a92'],\n  bg: 'var(--bg-dark)',\n  grid: 'var(--stroke-base)',\n  axis: 'var(--stroke-base)',\n  text: 'var(--text-secondary)',\n  title: 'var(--text-primary)',\n  value: 'var(--text-primary)',\n};\n\nconst defaultCategoryOrder = [\n  'SkyWars',\n  'Rush',\n  'HikaBrain',\n  'BedWars',\n  'UHC',\n  'BuildBattle',\n  'Duels',\n  'Other',\n];\n\nfunction getCategoryOrder(groups) {\n  // Build a stable order: use default if present, otherwise union of keys in order of appearance\n  const present = new Set();\n  const ordered = [];\n  const add = (k) => {\n    if (!present.has(k)) {\n      present.add(k);\n      ordered.push(k);\n    }\n  };\n  defaultCategoryOrder.forEach((k) => {\n    for (const g of groups) {\n      if (g && Object.prototype.hasOwnProperty.call(g, k)) {\n        add(k);\n        break;\n      }\n    }\n  });\n  for (const g of groups) {\n    Object.keys(g || {}).forEach(add);\n  }\n  return ordered;\n}\n\nfunction colorFor(cat, categories) {\n  const idx = Math.max(0, categories.indexOf(cat));\n  return chartTheme.palette[idx % chartTheme.palette.length];\n}\n\nfunction DonutChart({ data = {}, size = 660, categories, center }) {\n  const total = Math.max(\n    1,\n    Object.values(data).reduce((s, v) => s + (v || 0), 0)\n  );\n  let acc = 0;\n  const entries = Object.entries(data);\n  const [hover, setHover] = React.useState(null);\n  const r = size / 2;\n  const hole = r * 0.58;\n  const cx = r,\n    cy = r;\n  const ptc = (a) => {\n    const rad = ((a - 90) * Math.PI) / 180;\n    return { x: cx + r * Math.cos(rad), y: cy + r * Math.sin(rad) };\n  };\n  return (\n    <svg\n      style={{ width: '100%', height: 'auto' }}\n      viewBox={`0 0 ${size} ${size}`}\n      role=\"img\"\n      aria-label=\"Donut chart\"\n      preserveAspectRatio=\"xMidYMid meet\"\n    >\n      {entries.map(([k, v]) => {\n        const val = v || 0;\n        const ang = (val / total) * 360;\n        const start = acc;\n        const end = acc + ang;\n        acc = end;\n        const s = ptc(start),\n          e = ptc(end),\n          la = end - start > 180 ? 1 : 0;\n        const d = `M ${cx} ${cy} L ${s.x} ${s.y} A ${r} ${r} 0 ${la} 1 ${e.x} ${e.y} Z`;\n        const isHover = hover?.k === k;\n        return (\n          <path\n            key={k}\n            d={d}\n            fill={colorFor(k, categories)}\n            stroke={chartTheme.bg}\n            strokeWidth={isHover ? 0 : 0}\n            opacity={hover ? (isHover ? 1 : 0.6) : 1}\n            onMouseEnter={() => setHover({ k, v: val })}\n            onMouseLeave={() => setHover(null)}\n          />\n        );\n      })}\n      <circle cx={cx} cy={cy} r={hole} fill={chartTheme.bg} />\n      {hover || center ? (\n        <>\n          <text\n            x={cx}\n            y={cy - 2}\n            textAnchor=\"middle\"\n            fontSize={Math.max(12, size * 0.11)}\n            fontWeight=\"800\"\n            fill={chartTheme.title}\n          >\n            {hover ? `${hover.v}%` : center.value}\n          </text>\n          <text\n            x={cx}\n            y={cy + 14}\n            textAnchor=\"middle\"\n            fontSize={Math.max(9, size * 0.07)}\n            fill={chartTheme.text}\n          >\n            {hover ? hover.k : center.label || ''}\n          </text>\n        </>\n      ) : null}\n    </svg>\n  );\n}\n\nfunction HBarChart({ data = {}, barHeight = 12, categories }) {\n  const entries = Object.entries(data);\n  const max = Math.max(1, ...entries.map(([, v]) => v || 0));\n  return (\n    <div style={{ display: 'flex', flexDirection: 'column', gap: '0.75rem' }}>\n      {entries.map(([k, v]) => {\n        const pct = (v / max) * 100;\n        return (\n          <div\n            key={k}\n            style={{\n              display: 'grid',\n              gridTemplateColumns: '120px 1fr 52px',\n              gap: '0.75rem',\n              alignItems: 'center',\n            }}\n          >\n            <div style={{ color: chartTheme.text, fontSize: '0.95rem' }}>{k}</div>\n            <div\n              style={{\n                height: barHeight,\n                background: 'var(--bg-lighter)',\n                borderRadius: 999,\n                overflow: 'hidden',\n                position: 'relative',\n                border: '1px solid var(--bg-light)',\n              }}\n            >\n              <div\n                style={{\n                  width: `${pct}%`,\n                  height: barHeight,\n                  background: colorFor(k, categories),\n                  borderRadius: 999,\n                }}\n              />\n            </div>\n            <div style={{ textAlign: 'right', fontWeight: 700, color: chartTheme.value }}>{v}</div>\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n\nfunction VBarChart({\n  data = {},\n  height = 260,\n  barWidth = 22,\n  gap = 26,\n  categories,\n  yTicks = [0, 25, 50, 75, 100],\n  yLabel,\n  valueSuffix = '',\n  showValues = true,\n}) {\n  const entries = Object.entries(data);\n  const left = 40;\n  const top = 10;\n  const bottom = 46;\n  const right = 10;\n  const plotH = height - top - bottom;\n  // Ensure minimum width for chart, so bars never get squished\n  const minWidth = 420;\n  const width = Math.max(\n    minWidth,\n    left + right + entries.length * barWidth + (entries.length - 1) * gap\n  );\n  const xPos = (i) => left + i * (barWidth + gap);\n  const yPos = (v) => top + (1 - Math.max(0, Math.min(100, v)) / 100) * plotH;\n  return (\n    <svg\n      width={width}\n      height={height}\n      style={{ minWidth: minWidth, maxWidth: '100%' }}\n      viewBox={`0 0 ${width} ${height}`}\n      role=\"img\"\n      aria-label=\"Barres verticales\"\n    >\n      {/* baseline axis */}\n      <line\n        x1={left}\n        x2={left}\n        y1={top}\n        y2={top + plotH}\n        stroke={chartTheme.grid}\n        strokeWidth=\"1\"\n        opacity=\"0.6\"\n      />\n      {/* gridlines */}\n      {yTicks.map((g) => {\n        const y = yPos(g);\n        return (\n          <g key={g}>\n            <line\n              x1={left}\n              x2={width - right}\n              y1={y}\n              y2={y}\n              stroke={chartTheme.grid}\n              strokeWidth=\"1\"\n              opacity=\"0.6\"\n            />\n            <text x={left - 6} y={y + 4} textAnchor=\"end\" fontSize=\"10\" fill={chartTheme.text}>\n              {g}\n            </text>\n          </g>\n        );\n      })}\n      {/* y-axis label */}\n      {yLabel ? (\n        <text\n          x={12}\n          y={top + plotH / 2}\n          transform={`rotate(-90 12 ${top + plotH / 2})`}\n          fontSize=\"11\"\n          fill={chartTheme.text}\n        >\n          {yLabel}\n        </text>\n      ) : null}\n      {/* bars */}\n      {entries.map(([k, v], i) => {\n        const x = xPos(i);\n        const y = yPos(v);\n        const h = top + plotH - y;\n        const label = `${Math.round(v)}${valueSuffix}`;\n        const chipW = Math.max(28, label.length * 7 + 8);\n        return (\n          <g key={k}>\n            <rect x={x} y={y} width={barWidth} height={h} fill={colorFor(k, categories)} rx={4} />\n            {showValues ? (\n              <>\n                {/* value chip */}\n                <rect\n                  x={x + barWidth / 2 - chipW / 2}\n                  y={y - 18}\n                  width={chipW}\n                  height={14}\n                  rx={7}\n                  fill=\"var(--bg-dark)\"\n                  stroke=\"var(--bg-light)\"\n                  strokeWidth=\"1\"\n                />\n                <text\n                  x={x + barWidth / 2}\n                  y={y - 7}\n                  textAnchor=\"middle\"\n                  fontSize=\"10\"\n                  fill={chartTheme.value}\n                >\n                  {label}\n                </text>\n              </>\n            ) : null}\n            <text\n              x={x + barWidth / 2}\n              y={height - 10}\n              textAnchor=\"middle\"\n              fontSize=\"11\"\n              fill={chartTheme.text}\n            >\n              {k}\n            </text>\n          </g>\n        );\n      })}\n    </svg>\n  );\n}\n\n// Small KPI card\nfunction KPI({ icon, label, value, hint }) {\n  return (\n    <div\n      style={{\n        display: 'flex',\n        alignItems: 'center',\n        gap: '0.9rem',\n        background: 'var(--bg-lighter)',\n        border: '1px solid var(--bg-light)',\n        borderRadius: 14,\n        padding: '0.85rem 1rem',\n      }}\n    >\n      <div\n        style={{\n          width: 34,\n          height: 34,\n          borderRadius: 8,\n          background: 'var(--bg-dark)',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          border: '1px solid var(--bg-light)',\n        }}\n      >\n        <i className={icon} aria-hidden style={{ color: 'var(--primary)' }} />\n      </div>\n      <div style={{ display: 'flex', flexDirection: 'column', lineHeight: 1.1 }}>\n        <div style={{ fontSize: 12, color: 'var(--text-secondary)' }}>{label}</div>\n        <div style={{ fontWeight: 800, fontSize: 18, color: 'var(--text-primary)' }}>{value}</div>\n        {hint ? <div style={{ fontSize: 11, color: 'var(--text-muted)' }}>{hint}</div> : null}\n      </div>\n    </div>\n  );\n}\n\nexport default function Stats() {\n  const t = useT();\n  const formatDate = (ts) => {\n    if (!ts) return t('stats-na', 'N/A');\n    return new Date(ts).toLocaleDateString();\n  };\n  const formatHours = (h) => {\n    if (h == null) return t('stats-na', 'N/A');\n    const hrs = Math.floor(h);\n    const mins = Math.round((h - hrs) * 60);\n    return `${hrs}h ${mins}m`;\n  };\n  // Hook for backend search + skin render\n\n  const { state, actions, skinContainerRef } = usePlayerStats();\n  const { player: hookPlayer, loading, error, query, skinReady } = state;\n  const { setQuery, search } = actions;\n\n  // Utilise directement hookPlayer, plus de state local\n  const player = hookPlayer\n    ? {\n        username: hookPlayer.displayName || hookPlayer.username,\n        rank: hookPlayer.rank || undefined,\n        isOnline: !!hookPlayer.isOnline,\n        uuid: hookPlayer.uuid,\n        firstSeen: hookPlayer.firstSeen || null,\n        lastSeen: hookPlayer.lastSeen || null,\n        playTimeHours:\n          typeof hookPlayer.playTime === 'number' ? hookPlayer.playTime / 3600000 : null,\n        coins: typeof hookPlayer.coins === 'number' ? hookPlayer.coins : 0,\n        wasBanned: hookPlayer.wasBanned === true,\n        bannedAt: typeof hookPlayer.bannedAt === 'number' ? hookPlayer.bannedAt : null,\n        playedGamesByType: hookPlayer.playedGamesByType || {},\n        timeByGamePct: hookPlayer.timeByGamePct || {},\n        winRateByGame: hookPlayer.winRateByGame || {},\n      }\n    : null;\n\n  useReveal();\n\n  // Debounced live search on input\n  useEffect(() => {\n    // don't trigger on initial empty state\n    const q = (query || '').trim();\n    if (!q) {\n      // Pas de recherche, le hook retournera player === null\n      return;\n    }\n    const handle = setTimeout(() => {\n      search(q);\n    }, 450);\n    return () => clearTimeout(handle);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [query]);\n\n  const totals = useMemo(() => {\n    if (!player) return { games: 0 };\n    return {\n      games: Object.values(player.playedGamesByType || {}).reduce((a, b) => a + (b || 0), 0),\n    };\n  }, [player]);\n\n  const categories = useMemo(\n    () =>\n      getCategoryOrder([player?.timeByGamePct, player?.playedGamesByType, player?.winRateByGame]),\n    [player]\n  );\n\n  const metrics = useMemo(() => {\n    if (!player) return null;\n    const total =\n      Object.values(player.playedGamesByType || {}).reduce((a, b) => a + (b || 0), 0) || 1;\n    const entries = Object.entries(player.playedGamesByType || {});\n    const top = entries.reduce((m, [k, v]) => (v > (m?.v || -1) ? { k, v } : m), null) || {\n      k: '-',\n      v: 0,\n    };\n    const wr =\n      Object.entries(player.winRateByGame || {}).reduce(\n        (s, [k, p]) => s + (p || 0) * (player.playedGamesByType?.[k] || 0),\n        0\n      ) / total;\n    const topShare = Math.round((top.v / total) * 100);\n    return {\n      totalGames: total,\n      topGame: top.k,\n      topShare,\n      weightedWR: Math.round(wr || 0),\n    };\n  }, [player]);\n\n  return (\n    <section id=\"stats\" className=\"player-stats section-auto-fade\">\n      <div className=\"container stats-container\">\n        {/* Search bar */}\n        <div\n          className=\"stats-search\"\n          style={!player ? { display: 'flex', justifyContent: 'center' } : undefined}\n        >\n          <form\n            className=\"stats-search-form\"\n            onSubmit={(e) => {\n              e.preventDefault();\n              e.stopPropagation();\n              // On relance la recherche uniquement si la query n'est pas vide\n              if ((query || '').trim()) {\n                search(query);\n              }\n              // Sinon, ne rien faire (pas de reload, pas de scroll)\n              return false;\n            }}\n          >\n            <div className=\"search-field search-field-right\">\n              <input\n                id=\"player-search-input\"\n                className=\"search-input\"\n                type=\"text\"\n                placeholder={t('stats-search-input')}\n                aria-label={t('stats-search-input')}\n                value={query}\n                onChange={(e) => setQuery(e.target.value)}\n              />\n              <SearchIcon className=\"search-icon\" aria-hidden />\n            </div>\n          </form>\n        </div>\n        {/* Top row + analytics only if a player is selected */}\n        {player ? (\n          <>\n            <div className=\"stats-grid\">\n              {/* LEFT: 3D skin render */}\n              <div className=\"skin-card\">\n                <div\n                  id=\"player-skin-viewer-container\"\n                  ref={skinContainerRef}\n                  key={player?.uuid || 'fallback'}\n                  className={`skin-fade-viewer${skinReady ? ' ready' : ''}`}\n                  style={{ width: '100%', height: '100%' }}\n                  role=\"img\"\n                  aria-label={t('player-skin-viewer', '3D view of player skin')}\n                />\n              </div>\n\n              {/* MIDDLE: Title + Coins + two rows of stats */}\n              <div className=\"stats-col\">\n                  <div style={{ display: 'flex', alignItems: 'center', gap: '0.75rem' }}>\n                  <span\n                    className={`player-role ${player.rank === 'player' ? 'member' : player.rank} rank-badge`}\n                    data-lang={`rank-${player.rank === 'player' ? 'member' : player.rank}`}\n                  >\n                    {t(\n                      `rank-${player.rank === 'player' ? 'member' : player.rank}`,\n                      ((player.rank === 'player' ? 'MEMBER' : player.rank) || '').toString().toUpperCase()\n                    )}\n                  </span>\n                  <h1 className=\"player-username\" tabIndex=\"-1\">\n                    {player.username}\n                  </h1>\n                </div>\n                <div\n                  style={{\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '0.65rem',\n                    flexWrap: 'wrap',\n                  }}\n                >\n                  <div className=\"coins\">\n                    <i className=\"fas fa-coins\" aria-hidden />\n                    <span className=\"coins-value\">{(player.coins || 0).toLocaleString()}</span>\n                  </div>\n                  {Number.isFinite(player.bannedAt) && player.bannedAt > 0 ? (\n                    <div className=\"tag tag-danger\" title={t('stats-banned', 'Banned')}>\n                      <i className=\"fas fa-ban\" aria-hidden />\n                      <span className=\"tag-value\">{t('stats-banned', 'BANNED')}</span>\n                    </div>\n                  ) : player.wasBanned ? (\n                    <div className=\"tag tag-danger\" title={t('stats-was-banned', 'Was banned')}>\n                      <i className=\"fas fa-exclamation-triangle\" aria-hidden />\n                      <span className=\"tag-value\">{t('stats-was-banned', 'WAS BANNED')}</span>\n                    </div>\n                  ) : null}\n                </div>\n                <div className=\"kpi-grid\">\n                  <div className=\"kpi-card\">\n                    <div className=\"kpi-icon\">\n                      <i className=\"fas fa-calendar-plus\" aria-hidden />\n                    </div>\n                    <div className=\"kpi-meta\">\n                      <div className=\"kpi-label\" data-lang=\"stats-first-seen\">\n                        {t('stats-first-seen')}\n                      </div>\n                      <div className=\"kpi-value\">{formatDate(player.firstSeen)}</div>\n                    </div>\n                  </div>\n                  <div className=\"kpi-card\">\n                    <div className=\"kpi-icon\">\n                      <i className=\"fas fa-calendar-check\" aria-hidden />\n                    </div>\n                    <div className=\"kpi-meta\">\n                      <div className=\"kpi-label\" data-lang=\"stats-last-seen\">\n                        {t('stats-last-seen')}\n                      </div>\n                      <div className=\"kpi-value\">{formatDate(player.lastSeen)}</div>\n                    </div>\n                  </div>\n                  <div className=\"kpi-card\">\n                    <div className=\"kpi-icon\">\n                      <i className=\"fas fa-hourglass-half\" aria-hidden />\n                    </div>\n                    <div className=\"kpi-meta\">\n                      <div className=\"kpi-label\" data-lang=\"stats-play-time\">\n                        {t('stats-play-time')}\n                      </div>\n                      <div className=\"kpi-value\">{formatHours(player.playTimeHours)}</div>\n                    </div>\n                  </div>\n                  <div className=\"kpi-card\">\n                    <div className=\"kpi-icon\">\n                      <i className=\"fas fa-gamepad\" aria-hidden />\n                    </div>\n                    <div className=\"kpi-meta\">\n                      <div className=\"kpi-label\" data-lang=\"stats-played-games\">\n                        {t('stats-played-games', 'Games played')}\n                      </div>\n                      <div className=\"kpi-value\">{totals.games.toLocaleString()}</div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {/* Analytics panel below profile */}\n            <div className=\"analytics-panel\">\n              <div className=\"bento-grid\">\n                {/* Left: Donut chart */}\n                <div className=\"bento-donut\">\n                  <div className=\"donut-wrap\">\n                    <DonutChart\n                      data={player.timeByGamePct}\n                      size={360}\n                      categories={categories}\n                      center={{\n                        value:\n                          Object.keys(player.timeByGamePct || {}).length > 0\n                            ? `${Math.max(...Object.values(player.timeByGamePct || {}))}%`\n                            : '—',\n                        label:\n                          Object.keys(player.playedGamesByType || {}).length > 0\n                            ? (Object.entries(player.playedGamesByType || {}).sort(\n                                (a, b) => b[1] - a[1]\n                              )[0] || ['-'])[0]\n                            : '',\n                      }}\n                    />\n                  </div>\n                </div>\n                {/* Right: KPI grid and VBarChart below */}\n                <div className=\"bento-right\">\n                  <div className=\"kpi-grid\">\n                    <div className=\"kpi-card\">\n                      <div className=\"kpi-icon\">\n                        <i className=\"fas fa-gamepad\" aria-hidden />\n                      </div>\n                      <div className=\"kpi-meta\">\n                        <div className=\"kpi-label\" data-lang=\"stats-played-games\">\n                          {t('stats-played-games', 'Games played')}\n                        </div>\n                        <div className=\"kpi-value\">{metrics?.totalGames?.toLocaleString()}</div>\n                      </div>\n                    </div>\n                    <div className=\"kpi-card\">\n                      <div className=\"kpi-icon\">\n                        <i className=\"fas fa-trophy\" aria-hidden />\n                      </div>\n                      <div className=\"kpi-meta\">\n                        <div className=\"kpi-label\" data-lang=\"stats-global-winrate\">\n                          {t('stats-global-winrate', 'Global win rate')}\n                        </div>\n                        <div className=\"kpi-value\">{`${metrics?.weightedWR ?? 0}%`}</div>\n                      </div>\n                    </div>\n                    <div className=\"kpi-card\">\n                      <div className=\"kpi-icon\">\n                        <i className=\"fas fa-chart-pie\" aria-hidden />\n                      </div>\n                      <div className=\"kpi-meta\">\n                        <div className=\"kpi-label\" data-lang=\"stats-most-played-mode\">\n                          {t('stats-most-played-mode', 'Most played mode')}\n                        </div>\n                        <div className=\"kpi-value\">{metrics?.topGame || '-'}</div>\n                        <div className=\"kpi-hint\">{`${metrics?.topShare ?? 0}% ${t('stats-of-games', 'of games')}`}</div>\n                      </div>\n                    </div>\n                    <div className=\"kpi-card\">\n                      <div className=\"kpi-icon\">\n                        <i className=\"fas fa-clock\" aria-hidden />\n                      </div>\n                      <div className=\"kpi-meta\">\n                        <div className=\"kpi-label\" data-lang=\"stats-play-time\">\n                          {t('stats-play-time')}\n                        </div>\n                        <div className=\"kpi-value\">{formatHours(player.playTimeHours)}</div>\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"vbar-card\">\n                    <div className=\"vbar-card-title\" data-lang=\"stats-winrate-by-game\">\n                      {t('stats-winrate-by-game', 'Winrate by game')}\n                    </div>\n                    <div className=\"chart-scroll-x\">\n                      <VBarChart\n                        data={player.winRateByGame || {}}\n                        categories={categories}\n                        yLabel={null}\n                        valueSuffix=\"\"\n                        showValues={false}\n                        barWidth={32}\n                        gap={28}\n                        height={260}\n                      />\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </>\n        ) : null}\n\n        <div className=\"stats-note\">\n          {loading ? (\n            <p>{t('stats-loading')}</p>\n          ) : error === 'ratelimited' ? (\n            <p>{t('stats-rate-limited', 'Too many requests. Please try again in a moment.')}</p>\n          ) : error === 'notfound' ? (\n            <p>{t('stats-player-not-found')}</p>\n          ) : error === 'empty' ? (\n            <p>{t('stats-empty-query')}</p>\n          ) : error === 'error' ? (\n            <p>{t('stats-search-error')}</p>\n          ) : null}\n        </div>\n      </div>\n    </section>\n  );\n}\n","import React from 'react';\nimport { Helmet } from 'react-helmet';\nimport Header from '../components/Header.jsx';\nimport Footer from '../components/Footer.jsx';\nimport Hero from '../components/Hero.jsx';\nimport Features from '../components/Features.jsx';\nimport FAQ from '../components/FAQ.jsx';\nimport Join from '../components/Join.jsx';\nimport Stats from '../components/Stats.jsx';\nimport { useEffect, useState } from 'react';\n\nfunction BackToTop() {\n  return (\n    <button\n      className=\"back-to-top\"\n      aria-label=\"Back to top\"\n      onClick={() => window.scrollTo({ top: 0, behavior: 'smooth' })}\n    >\n      <i className=\"fas fa-chevron-up\" />\n    </button>\n  );\n}\n\nexport default function HomePage() {\n  const [hash, setHash] = useState(typeof window !== 'undefined' ? window.location.hash : '#hero');\n  useEffect(() => {\n    function onHash() {\n      setHash(window.location.hash || '#hero');\n    }\n    window.addEventListener('hashchange', onHash);\n    return () => window.removeEventListener('hashchange', onHash);\n  }, []);\n  // Ensure smooth scroll to the target after conditional sections mount\n  useEffect(() => {\n    if (typeof window === 'undefined') return;\n    const current = hash || '#hero';\n    // When going to #stats, scroll to top (stats view replaces sections)\n    if (current === '#stats') {\n      window.scrollTo({ top: 0, behavior: 'smooth' });\n      // Focus on the stats section heading\n      setTimeout(() => {\n        const statsHeading = document.querySelector(\n          '#stats h1, #stats h2, #stats [role=\"heading\"]'\n        );\n        if (statsHeading) {\n          statsHeading.focus({ preventScroll: true });\n        }\n      }, 300); // After scroll animation\n      return;\n    }\n    // For other anchors, the first click may change the hash while the target wasn't in the DOM yet\n    // Since this effect runs after render, the sections are now mounted: scroll into view explicitly\n    const el = document.querySelector(current);\n    if (el) {\n      // Use block:start and rely on css scroll-padding-top for header offset\n      el.scrollIntoView({ behavior: 'smooth', block: 'start' });\n      // Focus on the section's heading for accessibility\n      setTimeout(() => {\n        const heading = el.querySelector('h1, h2, h3, [role=\"heading\"]');\n        if (heading) {\n          heading.focus({ preventScroll: true });\n        }\n      }, 300); // After scroll animation\n    }\n  }, [hash]);\n  // Clear ?member param when leaving stats section for clean URLs\n  useEffect(() => {\n    if (hash !== '#stats') {\n      try {\n        const u = new URL(window.location.href);\n        if (u.searchParams.has('member')) {\n          u.searchParams.delete('member');\n          window.history.replaceState({}, '', u.toString());\n        }\n      } catch (_) {\n        /* ignore */\n      }\n    }\n  }, [hash]);\n  const showStats = hash === '#stats';\n\n  // Dynamic meta tags for SEO\n  const getMetaForSection = (section) => {\n    const baseMeta = {\n      title: 'Gangui - Minecraft Server',\n      description:\n        'Join the ultimate Minecraft experience on Gangui server. Community-driven gameplay with unique features and adventures.',\n      url: `${window.location.origin}${window.location.pathname}${section}`,\n    };\n\n    switch (section) {\n      case '#hero':\n        return {\n          ...baseMeta,\n          title: 'Gangui - Home | Minecraft Server',\n          description:\n            'Welcome to Gangui, the premier Minecraft server for community gaming, unique adventures, and competitive gameplay.',\n        };\n      case '#features':\n        return {\n          ...baseMeta,\n          title: 'Features | Gangui Minecraft Server',\n          description:\n            'Discover the amazing features of Gangui Minecraft server: custom game modes, competitive gameplay, and community events.',\n        };\n      case '#faq':\n        return {\n          ...baseMeta,\n          title: 'FAQ | Gangui Minecraft Server',\n          description:\n            'Frequently asked questions about Gangui Minecraft server. Learn how to join, gameplay rules, and server information.',\n        };\n      case '#join':\n        return {\n          ...baseMeta,\n          title: 'Join Now | Gangui Minecraft Server',\n          description:\n            'Ready to join Gangui? Get the server IP, learn how to connect, and start your Minecraft adventure today.',\n        };\n      case '#stats':\n        return {\n          ...baseMeta,\n          title: 'Player Stats | Gangui Minecraft Server',\n          description:\n            'View detailed player statistics, rankings, and achievements on the Gangui Minecraft server.',\n        };\n      default:\n        return baseMeta;\n    }\n  };\n\n  const currentMeta = getMetaForSection(hash);\n\n  return (\n    <>\n      <Helmet>\n        <title>{currentMeta.title}</title>\n        <meta name=\"description\" content={currentMeta.description} />\n        <meta property=\"og:title\" content={currentMeta.title} />\n        <meta property=\"og:description\" content={currentMeta.description} />\n        <meta property=\"og:url\" content={currentMeta.url} />\n        <meta property=\"og:type\" content=\"website\" />\n        <meta name=\"twitter:card\" content=\"summary\" />\n        <meta name=\"twitter:title\" content={currentMeta.title} />\n        <meta name=\"twitter:description\" content={currentMeta.description} />\n        <link rel=\"canonical\" href={currentMeta.url} />\n        <script type=\"application/ld+json\">\n          {JSON.stringify({\n            '@context': 'https://schema.org',\n            '@type': 'Organization',\n            name: 'Gangui',\n            description:\n              'Minecraft server offering community-driven gameplay with unique features and adventures',\n            url: window.location.origin,\n            logo: `${window.location.origin}/img/logo_dark.svg`,\n            sameAs: [\n              'https://discord.gg/gangui', // Assuming Discord link\n              'https://twitter.com/gangui', // Assuming Twitter link\n            ],\n            game: {\n              '@type': 'VideoGame',\n              name: 'Minecraft',\n              genre: 'Sandbox',\n              playMode: 'MultiPlayer',\n            },\n            areaServed: 'Worldwide',\n            serviceType: 'Gaming Server',\n          })}\n        </script>\n      </Helmet>\n      <Header />\n      <main style={{ paddingTop: '120px' }}>\n        {!showStats && <Hero />}\n        {!showStats && <Features />}\n        {!showStats && <FAQ />}\n        {!showStats && <Join />}\n        {showStats && <Stats />}\n      </main>\n      <Footer />\n      <BackToTop />\n    </>\n  );\n}\n","import React from 'react';\nimport HomePage from './pages/HomePage.jsx';\nimport { LanguageProvider } from './i18n/LanguageProvider.jsx';\n\nexport default function App() {\n  return (\n    <LanguageProvider>\n      <HomePage />\n    </LanguageProvider>\n  );\n}\n","import React from 'react';\nimport { createRoot } from 'react-dom/client';\nimport App from './App.jsx';\nimport './styles/style.css';\nimport './styles/header.css';\nimport './styles/footer.css';\nimport './styles/stats.css';\nimport './tailwind.css';\n\ncreateRoot(document.getElementById('root')).render(<App />);\n"],"file":"assets/index-D0mtWLMT.js"}
{"version":3,"mappings":"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","names":["availableLanguages","defaultLanguage","languageNames","parseFlatYAML","src","out","lines","raw","line","idx","key","val","loadLocale","lang","mod","__variableDynamicImportRuntimeHelper","__vitePreload","text","e","cache","baseFallback","rawLocales","defPath","LanguageContext","createContext","opts","LanguageProvider","children","getInitialLang","stored","browserLang","setLang","useState","dicts","setDicts","loadingRef","useRef","useEffect","cancelled","active","t","useCallback","base","jsx","useLanguage","useContext","useT","useThemeToggle","theme","setTheme","html","Header","React","toggle","langMenuOpen","setLangMenuOpen","langBtnRef","handleOutside","scrolled","setScrolled","onScroll","navItems","jsxs","item","o","l","label","Sun","Moon","useReveal","selector","options","elements","el","observer","entries","entry","Footer","serverStatus","setServerStatus","fetchStatus","data","error","interval","Hero","wrapperRef","container","texts","Features","carouselRef","dotsRef","current","setCurrent","paused","setPaused","showSlide","i","smooth","carousel","cards","target","left","ensureDots","dotsC","_","span","syncActive","c","d","scrollRaf","center","best","bestDiff","card","cardCenter","diff","handleKeyDown","onEnter","onLeave","onFocusIn","onFocusOut","onWheel","absX","absY","resize","handleVis","id","items","FAQ","open","setOpen","it","Join","copyIP","fallback","formatDate","timestamp","date","formatPlayTime","ms","formatter","s","m","h","formatted","formatUUID","uuid","CACHE_KEY","profileCache","getSkinTexture","clean","skinUrl","ERROR_CODES","PUBLIC_API_BASE","getPlayerFromPublicApi","query","q","url","resp","r","onlineTime","playTimeMs","coins","played","wins","losses","globalWinRate","achievements","emblems","playedGamesByType","winRateByGame","useSkinViewer","player","skinViewerRef","containerRef","skinReady","setSkinReady","disposed","rafId","angle","rotationEnabledRef","ro","loadSkin","finalUrl","cleanUuid","urls","resolve","reject","index","tryNext","img","preloadErr","SkinViewer","IdleAnimation","width","height","idle","animate","canvas","onDown","onUp","w","cleanup","usePlayerStats","initialQuery","setQuery","loading","setLoading","setError","setPlayer","lastSearchIdRef","search","inputQuery","mySearchId","publicApi","skinContainerRef","chartTheme","defaultCategoryOrder","getCategoryOrder","groups","present","ordered","add","k","g","colorFor","cat","categories","DonutChart","size","total","v","acc","hover","setHover","hole","cx","cy","ptc","a","rad","ang","start","end","la","isHover","Fragment","Stats","ts","formatHours","hrs","mins","state","actions","hookPlayer","totals","useMemo","games","b","metrics","top","wr","p","topShare","HomePage","hash","setHash","onHash","statsHeading","heading","u","showStats","currentMeta","section","baseMeta","Helmet","App","createRoot"],"ignoreList":[],"sources":["../../src/i18n/config.js","../../src/i18n/LanguageProvider.jsx","../../src/components/Header.jsx","../../src/hooks/useReveal.js","../../src/components/Footer.jsx","../../src/components/Hero.jsx","../../src/components/Features.jsx","../../src/components/FAQ.jsx","../../src/components/Join.jsx","../../src/utils/playerFormatters.js","../../src/services/profileCache.js","../../src/services/playerApi.js","../../src/hooks/useSkinViewer.js","../../src/hooks/usePlayerStats.js","../../src/components/Stats.jsx","../../src/pages/HomePage.jsx","../../src/App.jsx","../../src/main.jsx"],"sourcesContent":["// Central language configuration for i18n system\nexport const availableLanguages = ['en', 'fr', 'es', 'de', 'ro', 'ru', 'zh'];\nexport const defaultLanguage = 'en';\nexport const languageNames = {\n  en: 'English',\n  fr: 'Français',\n  es: 'Español',\n  de: 'Deutsch',\n  ro: 'Română',\n  ru: 'Русский',\n  zh: '中文',\n};\n","import React, { createContext, useContext, useEffect, useState, useCallback, useRef } from 'react';\nimport { availableLanguages, defaultLanguage } from './config.js';\n\n// Very small YAML parser for flat key: value pairs (no nesting needed here)\nfunction parseFlatYAML(src) {\n  const out = {};\n  if (!src) return out;\n  const lines = src.split(/\\r?\\n/);\n  for (const raw of lines) {\n    const line = raw.trim();\n    if (!line || line.startsWith('#')) continue;\n    const idx = line.indexOf(':');\n    if (idx === -1) continue;\n    const key = line.slice(0, idx).trim();\n    let val = line.slice(idx + 1).trim();\n    if ((val.startsWith('\"') && val.endsWith('\"')) || (val.startsWith(\"'\") && val.endsWith(\"'\"))) {\n      val = val.slice(1, -1);\n    }\n    out[key] = val;\n  }\n  return out;\n}\n\nasync function loadLocale(lang) {\n  try {\n    const mod = await import(`./locales/${lang}.yml?raw`);\n    const text = mod.default || mod;\n    return parseFlatYAML(text);\n  } catch (e) {\n    console.warn('[i18n] Failed loading locale', lang, e);\n    return {};\n  }\n}\n\n// Cache to avoid re-loading\nconst cache = {};\n\n// Synchronous fallback: eagerly read default language so no keys flash on first paint\nlet baseFallback = {};\ntry {\n  // Eagerly import all locales as raw text, then pick the default one\n  // Note: use `?raw` query to avoid deprecated `as: 'raw'` option\n  const rawLocales = import.meta.glob('./locales/*.yml?raw', { eager: true });\n  const defPath = `./locales/${defaultLanguage}.yml`;\n  // glob with ?raw includes the raw content as the default export\n  const raw = rawLocales[defPath] ? rawLocales[defPath].default || rawLocales[defPath] : '';\n  baseFallback = parseFlatYAML(raw);\n} catch (e) {\n  // If glob not supported in some context, ignore and keep empty (will async load)\n  baseFallback = {};\n}\n\nconst LanguageContext = createContext({\n  lang: defaultLanguage,\n  setLang: () => {},\n  t: (key, opts) => key,\n});\n\nexport function LanguageProvider({ children }) {\n  const getInitialLang = () => {\n    const stored = localStorage.getItem('lang');\n    if (stored) return stored;\n    const browserLang = navigator.language ? navigator.language.split('-')[0] : defaultLanguage;\n    return availableLanguages.includes(browserLang) ? browserLang : defaultLanguage;\n  };\n  const [lang, setLang] = useState(getInitialLang);\n  // Initialize with base fallback for immediate translations\n  const [dicts, setDicts] = useState({ base: baseFallback, active: baseFallback });\n  const loadingRef = useRef(false);\n\n  // Initial + active language load\n  useEffect(() => {\n    let cancelled = false;\n    (async () => {\n      // Ensure base (default) is cached; prefer eager fallback\n      cache[defaultLanguage] = cache[defaultLanguage] || baseFallback || {};\n      if (Object.keys(cache[defaultLanguage]).length === 0) {\n        cache[defaultLanguage] = await loadLocale(defaultLanguage);\n      }\n      let active = cache[lang];\n      if (!active) {\n        loadingRef.current = true;\n        active = await loadLocale(lang);\n        cache[lang] = active;\n        loadingRef.current = false;\n      }\n      if (!cancelled) {\n        setDicts({\n          base: cache[defaultLanguage] || {},\n          active: active && Object.keys(active).length ? active : cache[defaultLanguage] || {},\n        });\n      }\n    })();\n    return () => {\n      cancelled = true;\n    };\n  }, [lang]);\n\n  useEffect(() => {\n    localStorage.setItem('lang', lang);\n  }, [lang]);\n\n  const t = useCallback(\n    (key, opts = {}) => {\n      const { base, active } = dicts;\n      let val = active[key] || base[key] || opts.defaultValue || key;\n      if (opts.html) return val;\n      return val;\n    },\n    [dicts]\n  );\n\n  return (\n    <LanguageContext.Provider value={{ lang, setLang, t }}>{children}</LanguageContext.Provider>\n  );\n}\n\nexport function useLanguage() {\n  return useContext(LanguageContext);\n}\nexport function useT() {\n  return useContext(LanguageContext).t;\n}\n","import React, { useEffect, useState, useRef } from 'react';\nimport { useLanguage, useT } from '../i18n/LanguageProvider.jsx';\nimport { Sun, Moon } from 'lucide-react';\nimport { availableLanguages, languageNames } from '../i18n/config.js';\n\nfunction useThemeToggle() {\n  const [theme, setTheme] = useState(() => {\n    if (typeof window === 'undefined') return 'dark';\n    return localStorage.getItem('theme') || 'dark';\n  });\n  useEffect(() => {\n    const html = document.documentElement;\n    html.classList.remove('dark-theme', 'light-theme');\n    html.classList.add(theme + '-theme');\n    localStorage.setItem('theme', theme);\n  }, [theme]);\n  const toggle = () => setTheme((t) => (t === 'dark' ? 'light' : 'dark'));\n  return { theme, toggle };\n}\n\nexport default React.memo(function Header() {\n  const { lang, setLang } = useLanguage();\n  const t = useT();\n  const { theme, toggle } = useThemeToggle();\n  const [langMenuOpen, setLangMenuOpen] = useState(false);\n  const langBtnRef = useRef(null);\n  const base = import.meta.env.BASE_URL || '/';\n\n  useEffect(() => {\n    function handleOutside(e) {\n      if (!langBtnRef.current) return;\n      if (!langBtnRef.current.closest('.lang-dropdown').contains(e.target)) {\n        setLangMenuOpen(false);\n      }\n    }\n    document.addEventListener('click', handleOutside);\n    return () => document.removeEventListener('click', handleOutside);\n  }, []);\n\n  // Scroll header style\n  const [scrolled, setScrolled] = useState(false);\n  useEffect(() => {\n    function onScroll() {\n      setScrolled(window.scrollY > 50);\n    }\n    onScroll();\n    window.addEventListener('scroll', onScroll);\n    return () => window.removeEventListener('scroll', onScroll);\n  }, []);\n\n  const navItems = [\n    { href: '#hero', key: 'nav-home' },\n    { href: '#features', key: 'nav-features' },\n    { href: '#faq', key: 'nav-faq' },\n    { href: '#join', key: 'nav-join' },\n    { href: '#stats', key: 'nav-stats' },\n  ];\n\n  return (\n    <header className={'header' + (scrolled ? ' scrolled' : '')}>\n      <div className=\"container\">\n        <div className=\"navbar\">\n          <div className=\"logo\">\n            <a href=\"#hero\">\n              <img className=\"logo-dark\" src={base + 'img/logo_dark.svg'} alt=\"Logo dark\" />\n              <img className=\"logo-light\" src={base + 'img/logo_light.svg'} alt=\"Logo light\" />\n              <span className=\"logo-text\" data-lang=\"logo-brand\">\n                GANGUI\n              </span>\n            </a>\n          </div>\n          <nav className=\"nav-menu nav-menu-right\">\n            <ul>\n              {navItems.map((item) => {\n                const currentHash =\n                  typeof window !== 'undefined' ? window.location.hash || '#hero' : '#hero';\n                const active = currentHash === item.href;\n                return (\n                  <li key={item.key}>\n                    <a href={item.href} data-lang={item.key} className={active ? 'active' : ''}>\n                      {t(item.key)}\n                    </a>\n                  </li>\n                );\n              })}\n            </ul>\n          </nav>\n          <div className=\"header-actions\">\n            <span className=\"nav-separator\" />\n            <div className={'lang-dropdown' + (langMenuOpen ? ' open' : '')}>\n              <button\n                ref={langBtnRef}\n                className=\"lang-btn globe\"\n                aria-label={t('language-selector', 'Select language')}\n                aria-expanded={langMenuOpen}\n                aria-haspopup=\"menu\"\n                id=\"langDropdownBtn\"\n                onClick={() => setLangMenuOpen((o) => !o)}\n              >\n                <svg width=\"22\" height=\"22\" viewBox=\"0 0 24 24\" fill=\"none\" aria-hidden=\"true\">\n                  <circle cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"2\" />\n                  <path\n                    d=\"M2 12h20M12 2a15 15 0 010 20M12 2a15 15 0 000 20\"\n                    stroke=\"currentColor\"\n                    strokeWidth=\"2\"\n                  />\n                </svg>\n                <span className=\"lang-current\" data-lang=\"current-lang\">\n                  {t('current-lang')}\n                </span>{' '}\n                <i className=\"fas fa-chevron-down\" aria-hidden=\"true\" />\n              </button>\n              <div\n                className=\"lang-menu\"\n                role=\"menu\"\n                aria-labelledby=\"langDropdownBtn\"\n                id=\"langDropdownMenu\"\n              >\n                {availableLanguages.map((l) => {\n                  const label = languageNames[l] || l;\n                  return (\n                    <button\n                      key={l}\n                      className={'lang-option' + (l === lang ? ' active' : '')}\n                      role=\"menuitem\"\n                      aria-current={l === lang ? 'true' : undefined}\n                      onClick={() => {\n                        setLang(l);\n                        setLangMenuOpen(false);\n                      }}\n                    >\n                      {label}\n                    </button>\n                  );\n                })}\n              </div>\n            </div>\n            <button\n              className=\"nav-icon theme-toggle\"\n              aria-label={\n                theme === 'dark'\n                  ? t('switch-to-light-theme', 'Switch to light theme')\n                  : t('switch-to-dark-theme', 'Switch to dark theme')\n              }\n              onClick={toggle}\n            >\n              {theme === 'dark' ? (\n                <Sun size={20} aria-hidden=\"true\" />\n              ) : (\n                <Moon size={20} aria-hidden=\"true\" />\n              )}\n            </button>\n          </div>\n        </div>\n      </div>\n    </header>\n  );\n});\n","import { useEffect } from 'react';\n\n// IntersectionObserver based reveal animation hook\nexport function useReveal(selector = '.section-auto-fade', options) {\n  useEffect(() => {\n    if (typeof window === 'undefined') return;\n    const elements = Array.from(document.querySelectorAll(selector));\n    if (!('IntersectionObserver' in window)) {\n      elements.forEach((el) => el.classList.add('visible'));\n      return;\n    }\n    const observer = new IntersectionObserver(\n      (entries) => {\n        entries.forEach((entry) => {\n          if (entry.isIntersecting) {\n            entry.target.classList.add('visible');\n            observer.unobserve(entry.target);\n          }\n        });\n      },\n      { threshold: 0.15, rootMargin: '40px 0px 0px 0px', ...options }\n    );\n    elements.forEach((el) => observer.observe(el));\n    return () => observer.disconnect();\n  }, [selector, options]);\n}\n","import React, { useEffect, useState } from 'react';\nimport { useT } from '../i18n/LanguageProvider.jsx';\nimport { useReveal } from '../hooks/useReveal.js';\n\nexport default React.memo(function Footer() {\n  const t = useT();\n  useReveal();\n  const base = import.meta.env.BASE_URL || '/';\n  const [serverStatus, setServerStatus] = useState({ online: false, players: 0 });\n\n  useEffect(() => {\n    const fetchStatus = async () => {\n      try {\n        const res = await fetch('https://api.mcsrvstat.us/2/gangui.eu');\n        const data = await res.json();\n        setServerStatus({\n          online: data.online || false,\n          players: data.players?.online || 0,\n        });\n      } catch (error) {\n        console.error('Failed to fetch server status:', error);\n      }\n    };\n\n    fetchStatus();\n    // Update every 5 minutes\n    const interval = setInterval(fetchStatus, 5 * 60 * 1000);\n    return () => clearInterval(interval);\n  }, []);\n  return (\n    <footer className=\"footer section-auto-fade\">\n      <div className=\"container\">\n        <div className=\"footer-top\">\n          <div className=\"footer-logo\">\n            <img className=\"logo-dark\" src={base + 'img/logo_dark.svg'} alt=\"Logo dark\" />\n            <img className=\"logo-light\" src={base + 'img/logo_light.svg'} alt=\"Logo light\" />\n          </div>\n          <div className=\"social-links\">\n            <a\n              href=\"https://discord.gg/7Kj8vsGdSr\"\n              className=\"hover-scale-sm\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              aria-label=\"Discord\"\n            >\n              <i className=\"fab fa-discord\" />\n            </a>\n            <a\n              href=\"https://youtube.com/@ganguimc\"\n              className=\"hover-scale-sm\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              aria-label=\"YouTube\"\n            >\n              <i className=\"fab fa-youtube\" />\n            </a>\n            <a\n              href=\"https://twitter.com/ganguimc\"\n              className=\"hover-scale-sm\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              aria-label=\"Twitter\"\n            >\n              <i className=\"fab fa-twitter\" />\n            </a>\n          </div>\n        </div>\n        <div className=\"footer-content\">\n          <div className=\"footer-column\">\n            <h3 data-lang=\"footer-links\">{t('footer-links')}</h3>\n            <ul>\n              <li>\n                <a href=\"#hero\" data-lang=\"footer-home\">\n                  {t('footer-home')}\n                </a>\n              </li>\n              <li>\n                <a href=\"#features\" data-lang=\"footer-features\">\n                  {t('footer-features')}\n                </a>\n              </li>\n              <li>\n                <a href=\"#faq\" data-lang=\"footer-faq\">\n                  {t('footer-faq')}\n                </a>\n              </li>\n              <li>\n                <a href=\"#join\" data-lang=\"footer-join\">\n                  {t('footer-join')}\n                </a>\n              </li>\n            </ul>\n          </div>\n          <div className=\"footer-column\">\n            <h3 data-lang=\"footer-legal\">{t('footer-legal')}</h3>\n            <ul>\n              <li>\n                <a href={base + 'legal.html#terms'} data-lang=\"footer-terms\">\n                  {t('footer-terms')}\n                </a>\n              </li>\n              <li>\n                <a href={base + 'legal.html#privacy'} data-lang=\"footer-privacy\">\n                  {t('footer-privacy')}\n                </a>\n              </li>\n              <li>\n                <a href={base + 'legal.html#rules'} data-lang=\"footer-rules\">\n                  {t('footer-rules')}\n                </a>\n              </li>\n            </ul>\n          </div>\n          <div className=\"footer-column\">\n            <h3 data-lang=\"footer-support\">{t('footer-support')}</h3>\n            <ul>\n              <li>\n                <a\n                  href=\"https://discord.gg/SM3TDgc3Km\"\n                  target=\"_blank\"\n                  rel=\"noreferrer\"\n                  data-lang=\"footer-tickets\"\n                >\n                  {t('footer-tickets')}\n                </a>\n              </li>\n              <li>\n                <a href=\"mailto:contact@gangui.eu\" data-lang=\"footer-contact\">\n                  {t('footer-contact')}\n                </a>\n              </li>\n            </ul>\n          </div>\n          <div className=\"footer-column server-status\">\n            <h3 data-lang=\"footer-status\">{t('footer-status')}</h3>\n            <div className=\"status-indicator\">\n              <span className={`status-dot ${serverStatus.online ? 'online' : 'offline'}`} />\n              <span data-lang={serverStatus.online ? 'status-online' : 'status-offline'}>\n                {serverStatus.online ? t('status-online') : t('status-offline')}\n              </span>\n            </div>\n            <div className=\"server-info\">\n              <div className=\"info-item\">\n                <span className=\"info-label\" data-lang=\"status-players\">\n                  {t('status-players')}\n                </span>\n                <span className=\"info-value player-count\">{serverStatus.players}</span>\n              </div>\n              <div className=\"info-item\">\n                <span className=\"info-label\" data-lang=\"status-version\">\n                  {t('status-version')}\n                </span>\n                <span className=\"info-value\">1.8 & 1.21</span>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"footer-bottom\">\n          <p className=\"copyright\">© 2025 GANGUI.</p>\n          <p className=\"disclaimer\" data-lang=\"footer-disclaimer\">\n            {t('footer-disclaimer')}\n          </p>\n        </div>\n      </div>\n    </footer>\n  );\n});\n","import React, { useEffect, useRef } from 'react';\nimport { useT } from '../i18n/LanguageProvider.jsx';\nimport { useReveal } from '../hooks/useReveal.js';\n\nexport default function Hero() {\n  const t = useT();\n  const wrapperRef = useRef(null);\n  useEffect(() => {\n    const container = wrapperRef.current;\n    if (!container) return;\n    const texts = Array.from(container.querySelectorAll('.title-text'));\n    let idx = 0;\n    texts.forEach((t) => t.classList.remove('active', 'slide-up'));\n    if (texts[0]) texts[0].classList.add('active');\n    const interval = setInterval(() => {\n      if (document.hidden || texts.length === 0) return;\n      texts[idx]?.classList.remove('active');\n      idx = (idx + 1) % texts.length;\n      const el = texts[idx];\n      if (el) {\n        el.classList.add('slide-up');\n        void el.offsetWidth; // force reflow\n        el.classList.add('active');\n        setTimeout(() => el.classList.remove('slide-up'), 500);\n      }\n    }, 2500);\n    return () => clearInterval(interval);\n  }, []);\n\n  useReveal();\n  return (\n    <section id=\"hero\" className=\"hero section-auto-fade\">\n      <div className=\"container hero-flex\">\n        <div className=\"hero-left\" style={{ width: '100%' }}>\n          <span className=\"hero-brand\">GANGUI</span>\n          <h1 className=\"hero-title\" tabIndex=\"-1\">\n            <span className=\"title-container\" ref={wrapperRef}>\n              <span className=\"title-wrapper\">\n                <span className=\"title-text\" data-lang=\"hero-title-main\">\n                  {t('hero-title-main')}\n                </span>\n                <span className=\"title-text\" data-lang=\"hero-title-unique\">\n                  {t('hero-title-unique')}\n                </span>\n                <span className=\"title-text\" data-lang=\"hero-title-community\">\n                  {t('hero-title-community')}\n                </span>\n                <span className=\"title-text\" data-lang=\"hero-title-adventure\">\n                  {t('hero-title-adventure')}\n                </span>\n              </span>\n            </span>\n          </h1>\n          <p className=\"hero-desc\" data-lang=\"hero-desc\">\n            {t('hero-desc')}\n          </p>\n          <div className=\"hero-buttons hero-buttons-inline\">\n            <a href=\"#join\" className=\"btn btn-primary hover-scale-sm\">\n              <i className=\"fas fa-gamepad\" />\n              <span data-lang=\"hero-play\">{t('hero-play')}</span>\n            </a>\n            <a\n              href=\"https://discord.gg/7Kj8vsGdSr\"\n              className=\"btn btn-discord hover-scale-sm\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              <i className=\"fab fa-discord\" />\n              <span data-lang=\"hero-discord\">{t('hero-discord')}</span>\n            </a>\n            <a href=\"#features\" className=\"btn btn-secondary btn-outline hover-scale-sm\">\n              <i className=\"fas fa-bolt\" />\n              <span data-lang=\"hero-features\">{t('hero-features')}</span>\n            </a>\n            <a\n              href=\"https://github.com/ganguimc/\"\n              className=\"btn btn-dark btn-outline btn-border-light hover-scale-sm\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              <i className=\"fab fa-github\" />\n              <span>GitHub</span>\n            </a>\n          </div>\n        </div>\n      </div>\n      <div className=\"hero-bg\" />\n    </section>\n  );\n}\n","import React, { useEffect, useRef, useState } from 'react';\nimport { useT } from '../i18n/LanguageProvider.jsx';\nimport { useReveal } from '../hooks/useReveal.js';\n\nexport default function Features() {\n  const t = useT();\n  const carouselRef = useRef(null);\n  const dotsRef = useRef(null);\n  const [current, setCurrent] = useState(0);\n  const [paused, setPaused] = useState(false);\n\n  const showSlide = (i, smooth = true) => {\n    const carousel = carouselRef.current;\n    if (!carousel) return;\n    const cards = Array.from(carousel.querySelectorAll('.feature-card'));\n    if (cards.length === 0) return;\n    const idx = ((i % cards.length) + cards.length) % cards.length;\n    setCurrent(idx);\n    const target = cards[idx];\n    // Center the target card within the carousel viewport\n    const left =\n      target.offsetLeft - carousel.offsetLeft - (carousel.clientWidth - target.clientWidth) / 2;\n    carousel.scrollTo({ left, behavior: smooth ? 'smooth' : 'auto' });\n  };\n\n  useEffect(() => {\n    const carousel = carouselRef.current;\n    if (!carousel) return;\n    const cards = Array.from(carousel.querySelectorAll('.feature-card'));\n    function ensureDots() {\n      const dotsC = dotsRef.current;\n      if (!dotsC) return;\n      if (dotsC.children.length !== cards.length) {\n        dotsC.innerHTML = '';\n        cards.forEach((_, i) => {\n          const span = document.createElement('span');\n          span.className = 'carousel-dot';\n          span.addEventListener('click', () => showSlide(i));\n          dotsC.appendChild(span);\n        });\n      }\n    }\n    function syncActive() {\n      cards.forEach((c, i) => c.classList.toggle('active', i === current));\n      const dotsC = dotsRef.current;\n      if (!dotsC) return;\n      Array.from(dotsC.children).forEach((d, i) => d.classList.toggle('active', i === current));\n    }\n    ensureDots();\n    syncActive();\n    let scrollRaf = null;\n    const onScroll = () => {\n      if (scrollRaf) cancelAnimationFrame(scrollRaf);\n      scrollRaf = requestAnimationFrame(() => {\n        const center = carousel.scrollLeft + carousel.offsetWidth / 2;\n        let best = 0;\n        let bestDiff = Infinity;\n        cards.forEach((card, i) => {\n          const cardCenter = card.offsetLeft - carousel.offsetLeft + card.offsetWidth / 2;\n          const diff = Math.abs(center - cardCenter);\n          if (diff < bestDiff) {\n            bestDiff = diff;\n            best = i;\n          }\n        });\n        if (best !== current) setCurrent(best);\n      });\n    };\n    const handleKeyDown = (e) => {\n      if (e.key === 'ArrowLeft') showSlide(current - 1);\n      if (e.key === 'ArrowRight') showSlide(current + 1);\n    };\n    // Pause auto-advance on hover/focus within\n    const onEnter = () => setPaused(true);\n    const onLeave = () => setPaused(false);\n    const onFocusIn = () => setPaused(true);\n    const onFocusOut = () => setPaused(false);\n    // Block horizontal wheel/trackpad scroll on the carousel (keep page vertical scroll)\n    const onWheel = (e) => {\n      const absX = Math.abs(e.deltaX);\n      const absY = Math.abs(e.deltaY);\n      if (absX > absY) {\n        e.preventDefault();\n      }\n    };\n    // No mouse wheel handling: keep page scroll natural; use dots/click/keys to navigate\n    carousel.addEventListener('scroll', onScroll);\n    carousel.addEventListener('keydown', handleKeyDown);\n    carousel.addEventListener('mouseenter', onEnter);\n    carousel.addEventListener('mouseleave', onLeave);\n    carousel.addEventListener('focusin', onFocusIn);\n    carousel.addEventListener('focusout', onFocusOut);\n    carousel.addEventListener('wheel', onWheel, { passive: false });\n    const resize = () => showSlide(current, false);\n    window.addEventListener('resize', resize);\n    return () => {\n      carousel.removeEventListener('scroll', onScroll);\n      carousel.removeEventListener('keydown', handleKeyDown);\n      carousel.removeEventListener('mouseenter', onEnter);\n      carousel.removeEventListener('mouseleave', onLeave);\n      carousel.removeEventListener('focusin', onFocusIn);\n      carousel.removeEventListener('focusout', onFocusOut);\n      carousel.removeEventListener('wheel', onWheel);\n      // no wheel handler attached\n      window.removeEventListener('resize', resize);\n    };\n  }, [current]);\n\n  useEffect(() => {\n    const carousel = carouselRef.current;\n    if (!carousel) return;\n    const cards = Array.from(carousel.querySelectorAll('.feature-card'));\n    cards.forEach((c, i) => c.classList.toggle('active', i === current));\n    const dotsC = dotsRef.current;\n    if (dotsC)\n      Array.from(dotsC.children).forEach((d, i) => d.classList.toggle('active', i === current));\n  }, [current]);\n\n  useReveal();\n  // Auto-advance every 5s; pause when hovered/focused or when page hidden\n  useEffect(() => {\n    const handleVis = () => setPaused(document.hidden);\n    document.addEventListener('visibilitychange', handleVis);\n    const id = setInterval(() => {\n      if (!paused) {\n        showSlide(current + 1);\n      }\n    }, 3000);\n    return () => {\n      clearInterval(id);\n      document.removeEventListener('visibilitychange', handleVis);\n    };\n  }, [current, paused]);\n  return (\n    <section id=\"features\" className=\"features section-auto-fade\">\n      <div className=\"container\">\n        <div className=\"section-header\">\n          <h2 data-lang=\"features-title\" tabIndex=\"-1\">\n            {t('features-title')}\n          </h2>\n          <p data-lang=\"features-subtitle\">{t('features-subtitle')}</p>\n        </div>\n        <div className=\"features-carousel-wrapper\">\n          <div\n            className=\"features-grid carousel\"\n            ref={carouselRef}\n            tabIndex={0}\n            style={{ outline: 'none' }}\n          >\n            <div\n              className=\"feature-card elevated gradient-border hover-scale-sm\"\n              onClick={() => showSlide(0)}\n            >\n              <div className=\"feature-icon\">\n                <i className=\"fas fa-bolt\" />\n              </div>\n              <h3 data-lang=\"feature1-title\">{t('feature1-title')}</h3>\n              <p data-lang=\"feature1-desc\">{t('feature1-desc')}</p>\n            </div>\n            <div\n              className=\"feature-card elevated gradient-border hover-scale-sm\"\n              onClick={() => showSlide(1)}\n            >\n              <div className=\"feature-icon\">\n                <i className=\"fas fa-user-secret\" />\n              </div>\n              <h3 data-lang=\"feature2-title\">{t('feature2-title')}</h3>\n              <p data-lang=\"feature2-desc\">{t('feature2-desc')}</p>\n            </div>\n            <div\n              className=\"feature-card elevated gradient-border hover-scale-sm\"\n              onClick={() => showSlide(2)}\n            >\n              <div className=\"feature-icon\">\n                <i className=\"fas fa-robot\" />\n              </div>\n              <h3 data-lang=\"feature3-title\">{t('feature3-title')}</h3>\n              <p data-lang=\"feature3-desc\">{t('feature3-desc')}</p>\n            </div>\n            <div\n              className=\"feature-card elevated gradient-border hover-scale-sm\"\n              onClick={() => showSlide(3)}\n            >\n              <div className=\"feature-icon\">\n                <i className=\"fas fa-layer-group\" />\n              </div>\n              <h3 data-lang=\"feature4-title\">{t('feature4-title')}</h3>\n              <p data-lang=\"feature4-desc\">{t('feature4-desc')}</p>\n            </div>\n          </div>\n          <div className=\"carousel-dots\" ref={dotsRef} />\n        </div>\n      </div>\n    </section>\n  );\n}\n","import React, { useState } from 'react';\nimport { useT } from '../i18n/LanguageProvider.jsx';\nimport { useReveal } from '../hooks/useReveal.js';\n\nconst items = [\n  { qKey: 'faq1-question', aKey: 'faq1-answer' },\n  { qKey: 'faq2-question', aKey: 'faq2-answer' },\n  { qKey: 'faq3-question', aKey: 'faq3-answer' },\n  { qKey: 'faq4-question', aKey: 'faq4-answer' },\n  { qKey: 'faq5-question', aKey: 'faq5-answer' },\n];\n\nexport default function FAQ() {\n  const t = useT();\n  const [open, setOpen] = useState(null);\n  useReveal();\n  return (\n    <section id=\"faq\" className=\"faq section-auto-fade\">\n      <div className=\"container\">\n        <div className=\"section-header\">\n          <h2 data-lang=\"faq-title\" tabIndex=\"-1\">\n            {t('faq-title')}\n          </h2>\n          <p data-lang=\"faq-subtitle\">{t('faq-subtitle')}</p>\n        </div>\n        <div className=\"faq-content\">\n          {items.map((it, i) => {\n            const active = open === i;\n            return (\n              <div\n                key={it.qKey}\n                className={'faq-item gradient-border hover-scale-sm' + (active ? ' active' : '')}\n              >\n                <div className=\"faq-question\" onClick={() => setOpen(active ? null : i)}>\n                  <h3 data-lang={it.qKey}>{t(it.qKey)}</h3>\n                  <div className=\"faq-toggle\">\n                    <i className=\"fas fa-chevron-down\" />\n                  </div>\n                </div>\n                <div className=\"faq-answer\" style={active ? { maxHeight: '3000px' } : undefined}>\n                  <p data-lang={it.aKey}>{t(it.aKey)}</p>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    </section>\n  );\n}\n","import React from 'react';\nimport { useT } from '../i18n/LanguageProvider.jsx';\nimport { useReveal } from '../hooks/useReveal.js';\n\nexport default function Join() {\n  const t = useT();\n  function copyIP(e) {\n    e.preventDefault();\n    navigator.clipboard.writeText('mc.gangui.eu').catch(() => {});\n  }\n  useReveal();\n  return (\n    <section id=\"join\" className=\"join section-auto-fade\">\n      <div className=\"container\">\n        <div className=\"join-content\">\n          <div className=\"section-header\">\n            <h2 data-lang=\"join-title\" tabIndex=\"-1\">\n              {t('join-title')}\n            </h2>\n            <p data-lang=\"join-subtitle\">{t('join-subtitle')}</p>\n          </div>\n          <div className=\"join-steps\">\n            <div\n              className=\"join-step elevated gradient-border hover-scale-sm\"\n              onClick={copyIP}\n              style={{ cursor: 'pointer' }}\n            >\n              <div className=\"step-number\">\n                <i className=\"fas fa-copy\" />\n              </div>\n              <div className=\"step-content\">\n                <h3 data-lang=\"step1-title\">{t('step1-title')}</h3>\n                <p\n                  data-lang-html=\"step1-desc\"\n                  dangerouslySetInnerHTML={{ __html: t('step1-desc', { html: true }) }}\n                />\n              </div>\n            </div>\n            <div className=\"join-step elevated gradient-border hover-scale-sm\">\n              <div className=\"step-number\">\n                <i className=\"fas fa-plus-square\" />\n              </div>\n              <div className=\"step-content\">\n                <h3 data-lang=\"step2-title\">{t('step2-title')}</h3>\n                <p data-lang=\"step2-desc\">{t('step2-desc')}</p>\n              </div>\n            </div>\n            <div className=\"join-step elevated gradient-border hover-scale-sm\">\n              <div className=\"step-number\">\n                <i className=\"fas fa-play\" />\n              </div>\n              <div className=\"step-content\">\n                <h3 data-lang=\"step3-title\">{t('step3-title')}</h3>\n                <p data-lang=\"step3-desc\">{t('step3-desc')}</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"join-bg\" />\n    </section>\n  );\n}\n","import { useCallback, useEffect, useRef, useState } from 'react';\n\n// Simple translation helper (fallback only)\nexport const t = (key, fallback) => fallback || key;\n\nexport function formatDate(timestamp) {\n  if (!timestamp) return t('stats-na', 'N/A');\n  const date = new Date(timestamp);\n  const formatter = new Intl.DateTimeFormat(undefined, { dateStyle: 'short' });\n  return formatter.format(date);\n}\n\nexport function formatPlayTime(ms) {\n  if (ms == null) return t('stats-na', 'N/A');\n  const formatter = new Intl.NumberFormat(undefined, { minimumIntegerDigits: 1 });\n  let s = Math.floor(ms / 1000);\n  let m = Math.floor(s / 60);\n  let h = Math.floor(m / 60);\n  s %= 60;\n  m %= 60;\n  let formatted = '';\n  if (h > 0) formatted += `${formatter.format(h)}h `;\n  if (m > 0) formatted += `${formatter.format(m)}m `;\n  formatted += `${formatter.format(s)}s`;\n  return formatted.trim();\n}\n\nexport function formatUUID(uuid) {\n  if (!uuid || uuid.length !== 32) return uuid || 'N/A';\n  return `${uuid.substring(0, 8)}-${uuid.substring(8, 12)}-${uuid.substring(12, 16)}-${uuid.substring(16, 20)}-${uuid.substring(20)}`;\n}","// Profile cache (memory + localStorage)\nconst CACHE_KEY = 'mcProfileCache';\nconst profileCache = { usernameToUuid: {}, uuidToName: {}, uuidToSkinTexture: {} };\n\n// Load cache from localStorage\ntry {\n  if (typeof window !== 'undefined' && typeof localStorage !== 'undefined') {\n\tconst raw = localStorage.getItem(CACHE_KEY);\n\tif (raw) Object.assign(profileCache, JSON.parse(raw));\n  }\n} catch (e) {\n  console.error('Failed to load profile cache from localStorage:', e);\n}\n\nfunction saveProfileCache() {\n  try {\n\tif (typeof window !== 'undefined' && typeof localStorage !== 'undefined') {\n\t  localStorage.setItem(CACHE_KEY, JSON.stringify(profileCache));\n\t}\n  } catch (e) {\n\tconsole.error('Failed to save profile cache to localStorage:', e);\n  }\n}\n\n// Username → UUID (Mojang official API, cache)\nexport async function getProfileFromUsername(username) {\n  const uname = username.toLowerCase();\n  if (profileCache.usernameToUuid[uname]) return profileCache.usernameToUuid[uname];\n  try {\n    console.log(`[Mojang] Fetching UUID for username: ${uname}`);\n    const resp = await fetch(\n      `https://api.mojang.com/users/profiles/minecraft/${encodeURIComponent(uname)}`\n    );\n\tif (resp.ok) {\n\t  const data = await resp.json();\n\t  console.log(`[Mojang UUID] Response for ${uname}:`, data);\n\t  if (data?.id && data?.name) {\n\t\tconst result = { uuid: data.id.replace(/-/g, ''), name: data.name };\n\t\tprofileCache.usernameToUuid[uname] = result;\n\t\tprofileCache.uuidToName[result.uuid] = result.name;\n\t\tsaveProfileCache();\n\t\treturn result;\n\t  }\n\t}\n  } catch (e) {\n\tconsole.error('Failed to fetch profile from username:', e);\n  }\n  return null;\n}\n\n// UUID → Profile (Mojang session API, cache)\nexport async function getProfileFromUUID(uuid) {\n  // No longer needed for skins; use Ashcon or direct for name if required\n  const clean = uuid.replace(/-/g, '');\n  if (profileCache.uuidToName[clean] !== undefined) {\n    return { name: profileCache.uuidToName[clean] };\n  }\n  try {\n    console.log(`[Ashcon] Fetching name for UUID: ${clean}`);\n    const resp = await fetch(`https://api.ashcon.app/mojang/v2/user/${clean}`);\n    if (resp.ok) {\n      const data = await resp.json();\n      console.log(`[Ashcon] Name response for ${clean}:`, data);\n      if (data?.username) {\n        profileCache.uuidToName[clean] = data.username;\n        saveProfileCache();\n        return { name: data.username };\n      }\n    }\n  } catch (e) {\n    console.error('Failed to fetch name from UUID (Ashcon):', e);\n  }\n  return null;\n}\n\n// Helper to get skin texture using Mojang session API\nexport async function getSkinTexture(uuid) {\n  if (!uuid) return '/img/player-skin.png';\n  const clean = uuid.replace(/-/g, '');\n  // Primary: mc-heads.net (CORS-enabled, reliable)\n  let skinUrl = `https://mc-heads.net/skin/${clean}`;\n  console.log(`[Skin] Using primary URL for ${clean}: ${skinUrl}`);\n  // For fallbacks, could preload, but skinview3d handles load errors by showing default\n  // Fallback order if needed: minotar, crafatar, local default\n  return skinUrl;\n}","// Public error codes used by the hook\nexport const ERROR_CODES = {\n  EMPTY: 'empty',\n  NOT_FOUND: 'notfound',\n  ERROR: 'error',\n  RATE_LIMIT: 'ratelimited',\n};\n\n// Optional API base (configure with VITE_API_BASE_URL), defaults to same-origin\nconst API_BASE =\n  (typeof import.meta !== 'undefined' && import.meta.env && import.meta.env.VITE_API_BASE_URL) ||\n  '';\n\n// Public API (api.gangui.eu)\n// In development prefer the dev-server proxy path (`/api-public`) so requests go through Vite's proxy.\n// In production default to the HTTPS API on api.gangui.eu unless overridden by VITE_PUBLIC_API_BASE.\nconst PUBLIC_API_BASE =\n  (typeof import.meta !== 'undefined' && import.meta.env && import.meta.env.VITE_PUBLIC_API_BASE) ||\n  (typeof import.meta !== 'undefined' && import.meta.env && import.meta.env.DEV\n\t? '/api-public'\n\t: 'https://api.gangui.eu/v1');\n\n// Try backend first to retrieve player profile + stats\nexport async function getPlayerFromBackend(query) {\n  if (!API_BASE) return null;\n  const q = encodeURIComponent(query);\n  // Accept username or uuid; backend should resolve accordingly\n  const url = `${API_BASE}/api/players/${q}`;\n  try {\n\tconst resp = await fetch(url, { headers: { Accept: 'application/json' } });\n\tif (!resp.ok) return null;\n\tconst data = await resp.json();\n\tif (!data) return null;\n\t// Normalize fields from backend to our shape\n\tconst uuidRaw = (data.uuid || data.id || '').toString();\n\tconst uuid = uuidRaw.replace(/-/g, '');\n\tconst playTimeMs =\n\t  typeof data.playTimeMs === 'number'\n\t\t? data.playTimeMs\n\t\t: typeof data.playTime === 'number'\n\t\t  ? data.playTime\n\t\t  : typeof data.playTimeHours === 'number'\n\t\t\t? Math.round(data.playTimeHours * 3600 * 1000)\n\t\t\t: null;\n\treturn {\n\t  uuid: uuid && /^[0-9a-fA-F]{32}$/.test(uuid) ? uuid : null,\n\t  displayName: data.username || data.name || query,\n\t  rank: data.rank || undefined,\n\t  isOnline: !!data.isOnline,\n\t  firstSeen: data.firstSeen || null,\n\t  lastSeen: data.lastSeen || null,\n\t  playTime: playTimeMs,\n\t  coins: typeof data.coins === 'number' ? data.coins : undefined,\n\t  wasBanned:\n\t\tdata.was_banned === true || (typeof data.banned === 'number' && data.banned > 0) || false,\n\t  bannedAt: typeof data.banned === 'number' ? data.banned : undefined,\n\t  // Stats (optional, depending on backend availability)\n\t  playedGamesByType: data.playedGamesByType || undefined,\n\t  timeByGamePct: data.timeByGamePct || undefined,\n\t  winRateByGame: data.winRateByGame || undefined,\n\t};\n  } catch (e) {\n\tconsole.error('Failed to fetch player from backend:', e);\n\treturn null;\n  }\n}\n\nexport async function getPlayerFromPublicApi(query) {\n  const q = encodeURIComponent(query);\n  const url = `${PUBLIC_API_BASE}/profile/${q}`;\n  try {\n\tlet resp = await fetch(url, { headers: { Accept: 'application/json' } });\n\tif (resp.status === 429) {\n\t  // simple backoff and one retry\n\t  await new Promise((r) => setTimeout(r, 800));\n\t  resp = await fetch(url, { headers: { Accept: 'application/json' } });\n\t}\n\tif (resp.status === 429) {\n\t  // signal rate limit to caller\n\t  return { rateLimited: true };\n\t}\n\tif (!resp.ok) return null;\n\tconst data = await resp.json();\n\tif (!data) return null;\n\t// Normalize fields according to API README\n\tconst uuidRaw = (data.uuid || '').toString();\n\tconst uuid = uuidRaw.replace(/-/g, '');\n\tconst onlineTime = data.online_time;\n\tconst playTimeMs = typeof onlineTime === 'number' ? onlineTime * 1000 : null; // assume seconds\n\n\t// Coins field may be named `coins` in the API\n\tconst coins = typeof data.coins === 'number' ? data.coins : undefined;\n\n\t// Compute global winrate if played/wins provided\n\tconst played = typeof data.played === 'number' ? data.played : undefined;\n\tconst wins = typeof data.wins === 'number' ? data.wins : undefined;\n\tconst losses = typeof data.losses === 'number' ? data.losses : undefined;\n\tconst globalWinRate =\n\t  played && played > 0 && typeof wins === 'number'\n\t\t? Math.round((wins / played) * 100)\n\t\t: undefined;\n\n\t// Map achievements/emblems/muted directly\n\tconst achievements = data.achievements || undefined;\n\tconst emblems = data.emblems || undefined;\n\n\t// Build a minimal playedGamesByType if only aggregate numbers are present\n\tconst playedGamesByType = data.playedGamesByType || (played ? { All: played } : undefined);\n\tconst winRateByGame =\n\t  data.winRateByGame || (globalWinRate ? { Global: globalWinRate } : undefined);\n\n\treturn {\n\t  uuid: uuid && /^[0-9a-fA-F]{32}$/.test(uuid) ? uuid : null,\n\t  displayName: data.username || query,\n\t  rank: data.rank || undefined,\n\t  isOnline: !!data.is_online || false,\n\t  firstSeen: typeof data.first_login === 'number' ? data.first_login : data.first_login || null,\n\t  lastSeen: typeof data.last_seen === 'number' ? data.last_seen : data.last_seen || null,\n\t  playTime: playTimeMs,\n\t  coins: coins,\n\t  wasBanned: data.was_banned === true || false,\n\t  bannedAt: typeof data.banned === 'number' ? data.banned : undefined,\n\t  muted: typeof data.muted === 'number' ? data.muted : undefined,\n\t  achievements: achievements,\n\t  emblems: emblems,\n\t  playedGamesByType: playedGamesByType,\n\t  timeByGamePct: data.timeByGamePct || undefined,\n\t  winRateByGame: winRateByGame,\n\t  // preserve raw aggregate fields if present\n\t  aggregate: {\n\t\tplayed,\n\t\twins,\n\t\tlosses,\n\t  },\n\t};\n  } catch (e) {\n\tconsole.error('Failed to fetch player from public API:', e);\n\treturn null;\n  }\n}","import { useCallback, useEffect, useRef, useState } from 'react';\n\nexport function useSkinViewer(player) {\n  const skinViewerRef = useRef(null);\n  const containerRef = useRef(null);\n  const [skinReady, setSkinReady] = useState(false);\n\n  useEffect(() => {\n\tlet disposed = false;\n\tlet rafId = null;\n\tlet angle = 0;\n\tconst rotationEnabledRef = { current: true };\n\tlet ro = null;\n\n\tasync function loadSkin() {\n\t  if (!player || !containerRef.current) return;\n\t  try {\n\t  \tsetSkinReady(false);\n\t  \n\t  \t// Preload skin with fallback chain to handle load errors\n\t  \tlet finalUrl;\n\t  \ttry {\n\t  \t  const cleanUuid = player?.uuid?.replace(/-/g, '') || '';\n\t  \t  const urls = [];\n\t  \t  if (player?.skinUrl) {\n\t  \t\turls.push(player.skinUrl); // Primary mc-heads\n\t  \t  }\n\t  \t  if (cleanUuid) {\n\t  \t\turls.push(\n\t  \t\t  `https://minotar.net/skin/${cleanUuid}`,\n\t  \t\t  `https://crafatar.com/skins/${cleanUuid}?size=256&default=MHF_Steve`\n\t  \t\t);\n\t  \t  }\n\t  \t  urls.push('/img/player-skin.png'); // Final fallback\n\t  \n\t  \t  finalUrl = await new Promise((resolve, reject) => {\n\t  \t\tlet index = 0;\n\t  \t\tfunction tryNext() {\n\t  \t\t  if (index >= urls.length) {\n\t  \t\t\treject(new Error('All skin sources failed'));\n\t  \t\t\treturn;\n\t  \t\t  }\n\t  \t\t  const url = urls[index];\n\t  \t\t  const img = new Image();\n\t  \t\t  img.crossOrigin = 'anonymous';\n\t  \t\t  img.onload = () => resolve(url);\n\t  \t\t  img.onerror = () => {\n\t  \t\t\tconsole.warn(`[SkinViewer] Skin load failed for ${url}, trying next...`);\n\t  \t\t\tindex++;\n\t  \t\t\ttryNext();\n\t  \t\t  };\n\t  \t\t  img.src = url;\n\t  \t\t}\n\t  \t\ttryNext();\n\t  \t  });\n\t  \t} catch (preloadErr) {\n\t  \t  console.error('[SkinViewer] All preloads failed:', preloadErr);\n\t  \t  finalUrl = '/img/player-skin.png';\n\t  \t}\n\t  \n\t  \tconsole.log(`[SkinViewer] Loaded skin for ${player?.displayName || 'unknown'} from: ${finalUrl.substring(0, 50)}...`);\n\t  \tconst { SkinViewer, IdleAnimation } = await import('skinview3d');\n\t\tif (disposed) return;\n\t\tcontainerRef.current.innerHTML = '';\n\t\tconst width = containerRef.current.offsetWidth || 200;\n\t\tconst height = containerRef.current.offsetHeight || 300;\n\t\tskinViewerRef.current = new SkinViewer({\n\t\t  width,\n\t\t  height,\n\t\t  skin: finalUrl,\n\t\t  zoom: 0.0,\n\t\t});\n\t\tcontainerRef.current.appendChild(skinViewerRef.current.canvas);\n\t\tskinViewerRef.current.camera.position.set(0, 1.5, 42);\n\t\tif (typeof skinViewerRef.current.camera.lookAt === 'function') {\n\t\t  skinViewerRef.current.camera.lookAt(0, 0.9, 0);\n\t\t}\n\t\tconst idle = new IdleAnimation();\n\t\tif (skinViewerRef.current.animations?.add) skinViewerRef.current.animations.add(idle);\n\t\tidle.speed = 0.6;\n\t\tif (idle.play) idle.play();\n\n\t\t// Slow continuous rotation around Y axis\n\t\tconst animate = () => {\n\t\t  if (disposed || !skinViewerRef.current) return;\n\t\t  if (rotationEnabledRef.current) {\n\t\t\tangle += 0.003; // adjust speed here\n\t\t  }\n\t\t  if (skinViewerRef.current.playerObject) {\n\t\t\tskinViewerRef.current.playerObject.rotation.y = angle;\n\t\t  }\n\t\t  // render a frame if available\n\t\t  if (typeof skinViewerRef.current.render === 'function') {\n\t\t\tskinViewerRef.current.render();\n\t\t  }\n\t\t  rafId = requestAnimationFrame(animate);\n\t\t};\n\t\t// Mark as ready just after instantiation (image already preloaded)\n\t\tsetSkinReady(true);\n\t\trafId = requestAnimationFrame(animate);\n\n\t\t// Interactions: stop rotation on click, block zoom\n\t\tconst canvas = skinViewerRef.current.canvas;\n\t\tif (canvas) {\n\t\t  const onDown = () => {\n\t\t\trotationEnabledRef.current = false;\n\t\t  };\n\t\t  const onUp = () => {\n\t\t\trotationEnabledRef.current = true;\n\t\t  };\n\t\t  const onLeave = () => {\n\t\t\trotationEnabledRef.current = true;\n\t\t  };\n\t\t  const onWheel = (e) => {\n\t\t\te.preventDefault();\n\t\t  };\n\t\t  canvas.addEventListener('mousedown', onDown, { passive: true });\n\t\t  canvas.addEventListener('mouseup', onUp, { passive: true });\n\t\t  canvas.addEventListener('mouseleave', onLeave, { passive: true });\n\t\t  canvas.addEventListener('touchstart', onDown, { passive: true });\n\t\t  canvas.addEventListener('touchend', onUp, { passive: true });\n\t\t  canvas.addEventListener('touchcancel', onLeave, { passive: true });\n\t\t  canvas.addEventListener('wheel', onWheel, { passive: false });\n\t\t  // Keep inside box on resize\n\t\t  if (typeof ResizeObserver !== 'undefined') {\n\t\t\tro = new ResizeObserver(() => {\n\t\t\t  if (!skinViewerRef.current) return;\n\t\t\t  const w = containerRef.current.offsetWidth || 200;\n\t\t\t  const h = containerRef.current.offsetHeight || 300;\n\t\t\t  if (typeof skinViewerRef.current.setSize === 'function') {\n\t\t\t\tskinViewerRef.current.setSize(w, h);\n\t\t\t  } else if (typeof skinViewerRef.current.resize === 'function') {\n\t\t\t\tskinViewerRef.current.resize(w, h);\n\t\t\t  } else {\n\t\t\t\t// fallback: recreate\n\t\t\t\t// trigger re-render by setting skin again\n\t\t\t\tskinViewerRef.current.width = w;\n\t\t\t\tskinViewerRef.current.height = h;\n\t\t\t  }\n\t\t\t});\n\t\t\tro.observe(containerRef.current);\n\t\t  }\n\t\t  // Cleanup listeners on dispose\n\t\t  const cleanup = () => {\n\t\t\tcanvas.removeEventListener('mousedown', onDown);\n\t\t\tcanvas.removeEventListener('mouseup', onUp);\n\t\t\tcanvas.removeEventListener('mouseleave', onLeave);\n\t\t\tcanvas.removeEventListener('touchstart', onDown);\n\t\t\tcanvas.removeEventListener('touchend', onUp);\n\t\t\tcanvas.removeEventListener('touchcancel', onLeave);\n\t\t\tcanvas.removeEventListener('wheel', onWheel);\n\t\t  };\n\t\t  // Attach cleanup to ref for use on unmount\n\t\t  skinViewerRef.current._cleanupListeners = cleanup;\n\t\t}\n\t  } catch (e) {\n\t\tconsole.error('Failed to load skin viewer:', e);\n\t\t// Even on failure, don't keep the area hidden\n\t\tsetSkinReady(true);\n\t  }\n\t}\n\tloadSkin();\n\treturn () => {\n\t  disposed = true;\n\t  if (rafId) cancelAnimationFrame(rafId);\n\t  if (skinViewerRef.current?.dispose) skinViewerRef.current.dispose();\n\t  if (skinViewerRef.current?._cleanupListeners) {\n\t\tskinViewerRef.current._cleanupListeners();\n\t  }\n\t  if (ro) {\n\t\tro.disconnect();\n\t  }\n\t  setSkinReady(false);\n\t};\n  }, [player]);\n\n  return {\n\tskinReady,\n\tskinContainerRef: containerRef,\n  };\n}","import { useCallback, useEffect, useRef, useState } from 'react';\nimport { formatDate, formatPlayTime, formatUUID } from '../utils/playerFormatters.js';\nimport { getSkinTexture } from '../services/profileCache.js';\nimport { getPlayerFromPublicApi, ERROR_CODES } from '../services/playerApi.js';\nimport { useSkinViewer } from './useSkinViewer.js';\n\nexport function usePlayerStats(initialQuery) {\n  const [query, setQuery] = useState(initialQuery || '');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [player, setPlayer] = useState(null);\n  const lastSearchIdRef = useRef(0);\n\n  const search = useCallback(async (inputQuery) => {\n    const mySearchId = ++lastSearchIdRef.current;\n    const q = (inputQuery ?? '').trim();\n    if (!q) {\n      setError(ERROR_CODES.EMPTY);\n      setPlayer(null);\n      return;\n    }\n    setLoading(true);\n    setError(null);\n    try {\n      // 1) Use api.gangui.eu (public API) first\n      const publicApi = await getPlayerFromPublicApi(q);\n      if (mySearchId !== lastSearchIdRef.current) return; // stale\n      if (publicApi && publicApi.rateLimited) {\n        setError(ERROR_CODES.RATE_LIMIT);\n        return;\n      }\n      if (publicApi && publicApi.uuid && /^[0-9a-fA-F]{32}$/.test(publicApi.uuid)) {\n        // 2) Get skin URL from mc-heads\n        const skinUrl = await getSkinTexture(publicApi.uuid);\n        console.log(`[PlayerStats] Set player for ${publicApi.displayName}: skinUrl=${skinUrl}`);\n        if (mySearchId !== lastSearchIdRef.current) return; // stale\n        setPlayer({ ...publicApi, skinUrl });\n        return;\n      }\n\n      // If no valid UUID from public API, not found\n      setError(ERROR_CODES.NOT_FOUND);\n      setPlayer(null);\n    } catch (e) {\n      setError(ERROR_CODES.ERROR);\n    } finally {\n      if (mySearchId === lastSearchIdRef.current) setLoading(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (initialQuery) {\n      search(initialQuery);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [initialQuery]);\n\n  const { skinReady, skinContainerRef } = useSkinViewer(player);\n\n  return {\n    state: { query, loading, error, player, skinReady },\n    actions: { setQuery, search },\n    utils: { formatDate, formatPlayTime, formatUUID },\n    skinContainerRef,\n  };\n}\n","import React, { useEffect, useMemo, useState } from 'react';\nimport { useT, useLanguage } from '../i18n/LanguageProvider.jsx';\nimport { useReveal } from '../hooks/useReveal.js';\nimport { usePlayerStats } from '../hooks/usePlayerStats.js';\n\n// formatters now defined inside component to leverage i18n\n\n// --- Consistent chart system (shared theme, legend, and three chart types) ---\nconst chartTheme = {\n  palette: ['#5865F2', '#fc8b4f', '#85a2d5', '#ffd166', '#3ba779', '#e86a92'],\n  bg: 'var(--bg-dark)',\n  grid: 'var(--stroke-base)',\n  axis: 'var(--stroke-base)',\n  text: 'var(--text-secondary)',\n  title: 'var(--text-primary)',\n  value: 'var(--text-primary)',\n};\n\nconst defaultCategoryOrder = [\n  'Skyfight',\n  'Crystal',\n  'Bridge',\n  'Bedfight',\n  'BuildUHC',\n  'Blockfight',\n  'Sumo',\n  'Others',\n];\n\nfunction getCategoryOrder(groups) {\n  // Build a stable order: use default if present, otherwise union of keys in order of appearance\n  const present = new Set();\n  const ordered = [];\n  const add = (k) => {\n    if (!present.has(k)) {\n      present.add(k);\n      ordered.push(k);\n    }\n  };\n  defaultCategoryOrder.forEach((k) => {\n    for (const g of groups) {\n      if (g && Object.prototype.hasOwnProperty.call(g, k)) {\n        add(k);\n        break;\n      }\n    }\n  });\n  for (const g of groups) {\n    Object.keys(g || {}).forEach(add);\n  }\n  return ordered;\n}\n\nfunction colorFor(cat, categories) {\n  const idx = Math.max(0, categories.indexOf(cat));\n  return chartTheme.palette[idx % chartTheme.palette.length];\n}\n\nfunction DonutChart({ data = {}, size = 660, categories, center }) {\n  const total = Math.max(\n    1,\n    Object.values(data).reduce((s, v) => s + (v || 0), 0)\n  );\n  let acc = 0;\n  const entries = Object.entries(data);\n  const [hover, setHover] = React.useState(null);\n  const r = size / 2;\n  const hole = r * 0.58;\n  const cx = r,\n    cy = r;\n  const ptc = (a) => {\n    const rad = ((a - 90) * Math.PI) / 180;\n    return { x: cx + r * Math.cos(rad), y: cy + r * Math.sin(rad) };\n  };\n  return (\n    <svg\n      className=\"donut-svg\"\n      viewBox={`0 0 ${size} ${size}`}\n      role=\"img\"\n      aria-label=\"Donut chart\"\n      preserveAspectRatio=\"xMidYMid meet\"\n    >\n      {entries.map(([k, v]) => {\n        const val = v || 0;\n        const ang = (val / total) * 360;\n        const start = acc;\n        const end = acc + ang;\n        acc = end;\n        const s = ptc(start),\n          e = ptc(end),\n          la = end - start > 180 ? 1 : 0;\n        const d = `M ${cx} ${cy} L ${s.x} ${s.y} A ${r} ${r} 0 ${la} 1 ${e.x} ${e.y} Z`;\n        const isHover = hover?.k === k;\n        return (\n          <path\n            key={k}\n            d={d}\n            fill={colorFor(k, categories)}\n            stroke={chartTheme.bg}\n            strokeWidth={isHover ? 0 : 0}\n            opacity={hover ? (isHover ? 1 : 0.6) : 1}\n            onMouseEnter={() => setHover({ k, v: val })}\n            onMouseLeave={() => setHover(null)}\n          />\n        );\n      })}\n      <circle cx={cx} cy={cy} r={hole} fill={chartTheme.bg} />\n      {hover || center ? (\n        <>\n          <text\n            x={cx}\n            y={cy - 2}\n            textAnchor=\"middle\"\n            fontSize={Math.max(12, size * 0.11)}\n            fontWeight=\"800\"\n            fill={chartTheme.title}\n          >\n            {hover ? `${hover.v}%` : center.value}\n          </text>\n          <text\n            x={cx}\n            y={cy + 14}\n            textAnchor=\"middle\"\n            fontSize={Math.max(9, size * 0.07)}\n            fill={chartTheme.text}\n          >\n            {hover ? hover.k : center.label || ''}\n          </text>\n        </>\n      ) : null}\n    </svg>\n  );\n}\n\n// Small KPI card\nfunction KPI({ icon, label, value, hint }) {\n  return (\n    <div className=\"kpi-card\">\n      <div className=\"kpi-icon\">\n        <i className={icon} aria-hidden />\n      </div>\n      <div className=\"kpi-meta\">\n        <div className=\"kpi-label\">{label}</div>\n        <div className=\"kpi-value\">{value}</div>\n        {hint ? <div className=\"kpi-hint\">{hint}</div> : null}\n      </div>\n    </div>\n  );\n}\n\nexport default function Stats() {\n  const t = useT();\n  const { lang } = useLanguage();\n  const formatDate = (ts) => {\n    if (!ts) return '?';\n    return new Intl.DateTimeFormat(lang, { dateStyle: 'short' }).format(new Date(ts));\n  };\n  const formatHours = (h) => {\n    if (h == null) return '?';\n    const hrs = Math.floor(h);\n    const mins = Math.round((h - hrs) * 60);\n    return `${hrs}h ${mins}m`;\n  };\n  // Hook for backend search + skin render\n\n  const { state, actions, skinContainerRef } = usePlayerStats();\n  const { player: hookPlayer, loading, error, query, skinReady } = state;\n  const { setQuery, search } = actions;\n\n  // Utilise directement hookPlayer, plus de state local\n  const player = hookPlayer\n    ? {\n        username: hookPlayer.displayName || hookPlayer.username,\n        rank: hookPlayer.rank || 'player',\n        isOnline: !!hookPlayer.isOnline,\n        uuid: hookPlayer.uuid,\n        firstSeen: hookPlayer.firstSeen || null,\n        lastSeen: hookPlayer.lastSeen || null,\n        playTimeHours:\n          typeof hookPlayer.playTime === 'number' ? hookPlayer.playTime / 3600000 : null,\n        coins: typeof hookPlayer.coins === 'number' ? hookPlayer.coins : null,\n        wasBanned: hookPlayer.wasBanned === true,\n        bannedAt: typeof hookPlayer.bannedAt === 'number' ? hookPlayer.bannedAt : null,\n        playedGamesByType: hookPlayer.playedGamesByType || {},\n        timeByGamePct: hookPlayer.timeByGamePct || {},\n        winRateByGame: hookPlayer.winRateByGame || {},\n      }\n    : null;\n\n  useReveal();\n\n  // Debounced live search on input\n  // Removed live debounce: searches are triggered on form submit only.\n\n  const totals = useMemo(() => {\n    if (!player) return { games: null };\n    const games = Object.values(player.playedGamesByType || {}).reduce((a, b) => a + (b || 0), 0);\n    return {\n      games: games > 0 ? games : null,\n    };\n  }, [player]);\n\n  const categories = useMemo(\n    () =>\n      getCategoryOrder([player?.timeByGamePct, player?.playedGamesByType, player?.winRateByGame]),\n    [player]\n  );\n\n  const metrics = useMemo(() => {\n    if (!player) return null;\n    const total =\n      Object.values(player.playedGamesByType || {}).reduce((a, b) => a + (b || 0), 0) || 0;\n    if (total === 0) {\n      return {\n        totalGames: null,\n        topGame: '?',\n        topShare: null,\n        weightedWR: null,\n      };\n    }\n    const entries = Object.entries(player.playedGamesByType || {});\n    const top = entries.reduce((m, [k, v]) => (v > (m?.v || -1) ? { k, v } : m), null) || {\n      k: '?',\n      v: 0,\n    };\n    const numerator =\n      Object.entries(player.winRateByGame || {}).reduce(\n        (s, [k, p]) => s + (p || 0) * (player.playedGamesByType?.[k] || 0),\n        0\n      );\n    const wr = numerator / total;\n    const topShare = Math.round((top.v / total) * 100);\n    return {\n      totalGames: total,\n      topGame: top.k,\n      topShare,\n      weightedWR: Math.round(wr),\n    };\n  }, [player]);\n\n  return (\n    <section id=\"stats\" className=\"player-stats section-auto-fade\">\n      <div className=\"container stats-container\">\n        {/* Search bar */}\n        <div\n          className=\"stats-search\"\n          style={!player ? { display: 'flex', justifyContent: 'center' } : undefined}\n        >\n          <form\n            className=\"stats-search-form\"\n            onSubmit={(e) => {\n              e.preventDefault();\n              e.stopPropagation();\n              // On relance la recherche uniquement si la query n'est pas vide\n              if ((query || '').trim()) {\n                search(query);\n              }\n              // Sinon, ne rien faire (pas de reload, pas de scroll)\n              return false;\n            }}\n          >\n            <div className=\"search-field search-field-right\">\n              <input\n                id=\"player-search-input\"\n                className=\"search-input\"\n                type=\"text\"\n                placeholder={t('stats-search-input')}\n                aria-label={t('stats-search-input')}\n                value={query}\n                onChange={(e) => setQuery(e.target.value)}\n              />\n            </div>\n          </form>\n        </div>\n        {/* Top row + analytics only if a player is selected */}\n        {player ? (\n          <>\n            <div className=\"stats-grid\">\n              {/* LEFT: 3D skin render */}\n              <div className=\"skin-card\">\n                <div\n                  id=\"player-skin-viewer-container\"\n                  ref={skinContainerRef}\n                  key={player?.uuid || 'fallback'}\n                  className={`skin-fade-viewer${skinReady ? ' ready' : ''} skin-viewer-full`}\n                  role=\"img\"\n                  aria-label={t('player-skin-viewer', '3D view of player skin')}\n                />\n              </div>\n\n              {/* MIDDLE: Title + Coins + two rows of stats */}\n              <div className=\"stats-col\">\n                <div className=\"player-header-row\">\n                  <span\n                    className={`player-role ${player.rank === 'player' ? 'member' : player.rank} rank-badge`}\n                    data-lang={`rank-${player.rank === 'player' ? 'member' : player.rank}`}\n                  >\n                    {t(\n                      `rank-${player.rank === 'player' ? 'member' : player.rank}`,\n                      ((player.rank === 'player' ? 'MEMBER' : player.rank) || '')\n                        .toString()\n                        .toUpperCase()\n                    )}\n                  </span>\n                  <h1 className=\"player-username\" tabIndex=\"-1\">\n                    {player.username}\n                  </h1>\n                </div>\n                <div className=\"player-meta-row\">\n                  <div className=\"coins\">\n                    <i className=\"fas fa-coins\" aria-hidden />\n                    <span className=\"coins-value\">{player.coins != null ? player.coins.toLocaleString() : '?'}</span>\n                  </div>\n                  {Number.isFinite(player.bannedAt) && player.bannedAt > 0 ? (\n                    <div className=\"tag tag-danger banned-tooltip\">\n                      <i className=\"fas fa-ban\" aria-hidden />\n                      <span className=\"tag-value\">{t('stats-banned', 'BANNED')}</span>\n                      <span className=\"tooltip-text\">{t('stats-banned-until').replace('{date}', formatDate(player.bannedAt))}</span>\n                    </div>\n                  ) : player.wasBanned ? (\n                    <div className=\"tag tag-danger\" title={t('stats-was-banned', 'Was banned')}>\n                      <i className=\"fas fa-exclamation-triangle\" aria-hidden />\n                      <span className=\"tag-value\">{t('stats-was-banned', 'WAS BANNED')}</span>\n                    </div>\n                  ) : null}\n                </div>\n                <div className=\"kpi-grid\">\n                  <div className=\"kpi-card\">\n                    <div className=\"kpi-icon\">\n                      <i className=\"fas fa-calendar-plus\" aria-hidden />\n                    </div>\n                    <div className=\"kpi-meta\">\n                      <div className=\"kpi-label\" data-lang=\"stats-first-seen\">\n                        {t('stats-first-seen')}\n                      </div>\n                      <div className=\"kpi-value\">{formatDate(player.firstSeen)}</div>\n                    </div>\n                  </div>\n                  <div className=\"kpi-card\">\n                    <div className=\"kpi-icon\">\n                      <i className=\"fas fa-calendar-check\" aria-hidden />\n                    </div>\n                    <div className=\"kpi-meta\">\n                      <div className=\"kpi-label\" data-lang=\"stats-last-seen\">\n                        {t('stats-last-seen')}\n                      </div>\n                      <div className=\"kpi-value\">{formatDate(player.lastSeen)}</div>\n                    </div>\n                  </div>\n                  <div className=\"kpi-card\">\n                    <div className=\"kpi-icon\">\n                      <i className=\"fas fa-hourglass-half\" aria-hidden />\n                    </div>\n                    <div className=\"kpi-meta\">\n                      <div className=\"kpi-label\" data-lang=\"stats-play-time\">\n                        {t('stats-play-time')}\n                      </div>\n                      <div className=\"kpi-value\">{formatHours(player.playTimeHours)}</div>\n                    </div>\n                  </div>\n                  <div className=\"kpi-card\">\n                    <div className=\"kpi-icon\">\n                      <i className=\"fas fa-gamepad\" aria-hidden />\n                    </div>\n                    <div className=\"kpi-meta\">\n                      <div className=\"kpi-label\" data-lang=\"stats-played-games\">\n                        {t('stats-played-games', 'Games played')}\n                      </div>\n                      <div className=\"kpi-value\">{totals.games != null ? totals.games.toLocaleString() : '?'}</div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {/* Analytics panel below profile */}\n            <div className=\"analytics-panel\">\n              <div className=\"bento-grid\">\n                {/* Left: Donut chart */}\n                <div className=\"bento-donut\">\n                  <div className=\"donut-wrap\">\n                    <DonutChart\n                      data={player.timeByGamePct || { '?': 100 }}\n                      size={360}\n                      categories={categories}\n                      center={{\n                        value:\n                          Object.keys(player.timeByGamePct || {}).length > 0\n                            ? `${Math.max(...Object.values(player.timeByGamePct || {}))}%`\n                            : '?',\n                        label:\n                          Object.keys(player.playedGamesByType || {}).length > 0\n                            ? (Object.entries(player.playedGamesByType || {}).sort(\n                                (a, b) => b[1] - a[1]\n                              )[0] || ['-'])[0]\n                            : '',\n                      }}\n                    />\n                  </div>\n                </div>\n                {/* Right: KPI grid only (vbar removed) */}\n                <div className=\"bento-right\">\n                  <div className=\"kpi-grid\">\n                    <div className=\"kpi-card\">\n                      <div className=\"kpi-icon\">\n                        <i className=\"fas fa-gamepad\" aria-hidden />\n                      </div>\n                      <div className=\"kpi-meta\">\n                        <div className=\"kpi-label\" data-lang=\"stats-played-games\">\n                          {t('stats-played-games', 'Games played')}\n                        </div>\n                        <div className=\"kpi-value\">{metrics?.totalGames != null ? metrics.totalGames.toLocaleString() : '?'}</div>\n                      </div>\n                    </div>\n                    <div className=\"kpi-card\">\n                      <div className=\"kpi-icon\">\n                        <i className=\"fas fa-trophy\" aria-hidden />\n                      </div>\n                      <div className=\"kpi-meta\">\n                        <div className=\"kpi-label\" data-lang=\"stats-global-winrate\">\n                          {t('stats-global-winrate', 'Global win rate')}\n                        </div>\n                        <div className=\"kpi-value\">{metrics?.weightedWR != null ? `${metrics.weightedWR}%` : '?'}</div>\n                      </div>\n                    </div>\n                    <div className=\"kpi-card\">\n                      <div className=\"kpi-icon\">\n                        <i className=\"fas fa-chart-pie\" aria-hidden />\n                      </div>\n                      <div className=\"kpi-meta\">\n                        <div className=\"kpi-label\" data-lang=\"stats-most-played-mode\">\n                          {t('stats-most-played-mode', 'Most played mode')}\n                        </div>\n                        <div className=\"kpi-value\">{metrics?.topGame || '?'}</div>\n                        {metrics?.topShare != null && <div className=\"kpi-hint\">{`${metrics.topShare}% ${t('stats-of-games', 'of games')}`}</div>}\n                      </div>\n                    </div>\n                    <div className=\"kpi-card\">\n                      <div className=\"kpi-icon\">\n                        <i className=\"fas fa-clock\" aria-hidden />\n                      </div>\n                      <div className=\"kpi-meta\">\n                        <div className=\"kpi-label\" data-lang=\"stats-play-time\">\n                          {t('stats-play-time')}\n                        </div>\n                        <div className=\"kpi-value\">{formatHours(player.playTimeHours)}</div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </>\n        ) : null}\n\n        <div className=\"stats-note\">\n          {loading ? (\n            <p>{t('stats-loading')}</p>\n          ) : error === 'ratelimited' ? (\n            <p>{t('stats-rate-limited', 'Too many requests. Please try again in a moment.')}</p>\n          ) : error === 'notfound' ? (\n            <p>{t('stats-player-not-found')}</p>\n          ) : error === 'empty' ? (\n            <p>{t('stats-empty-query')}</p>\n          ) : error === 'error' ? (\n            <p>{t('stats-search-error')}</p>\n          ) : null}\n        </div>\n      </div>\n    </section>\n  );\n}\n","import React from 'react';\nimport { Helmet } from 'react-helmet';\nimport Header from '../components/Header.jsx';\nimport Footer from '../components/Footer.jsx';\nimport Hero from '../components/Hero.jsx';\nimport Features from '../components/Features.jsx';\nimport FAQ from '../components/FAQ.jsx';\nimport Join from '../components/Join.jsx';\nimport Stats from '../components/Stats.jsx';\nimport { useEffect, useState } from 'react';\n\nexport default function HomePage() {\n  const [hash, setHash] = useState(typeof window !== 'undefined' ? window.location.hash : '#hero');\n  useEffect(() => {\n    function onHash() {\n      setHash(window.location.hash || '#hero');\n    }\n    window.addEventListener('hashchange', onHash);\n    return () => window.removeEventListener('hashchange', onHash);\n  }, []);\n  // Ensure smooth scroll to the target after conditional sections mount\n  useEffect(() => {\n    if (typeof window === 'undefined') return;\n    const current = hash || '#hero';\n    // When going to #stats, scroll to top (stats view replaces sections)\n    if (current === '#stats') {\n      window.scrollTo({ top: 0, behavior: 'smooth' });\n      // Focus on the stats section heading\n      setTimeout(() => {\n        const statsHeading = document.querySelector(\n          '#stats h1, #stats h2, #stats [role=\"heading\"]'\n        );\n        if (statsHeading) {\n          statsHeading.focus({ preventScroll: true });\n        }\n      }, 300); // After scroll animation\n      return;\n    }\n    // For other anchors, the first click may change the hash while the target wasn't in the DOM yet\n    // Since this effect runs after render, the sections are now mounted: scroll into view explicitly\n    const el = document.querySelector(current);\n    if (el) {\n      // Use block:start and rely on css scroll-padding-top for header offset\n      el.scrollIntoView({ behavior: 'smooth', block: 'start' });\n      // Focus on the section's heading for accessibility\n      setTimeout(() => {\n        const heading = el.querySelector('h1, h2, h3, [role=\"heading\"]');\n        if (heading) {\n          heading.focus({ preventScroll: true });\n        }\n      }, 300); // After scroll animation\n    }\n  }, [hash]);\n  // Clear ?member param when leaving stats section for clean URLs\n  useEffect(() => {\n    if (hash !== '#stats') {\n      try {\n        const u = new URL(window.location.href);\n        if (u.searchParams.has('member')) {\n          u.searchParams.delete('member');\n          window.history.replaceState({}, '', u.toString());\n        }\n      } catch (e) {\n        console.error('Failed to update URL params:', e);\n      }\n    }\n  }, [hash]);\n  const showStats = hash === '#stats';\n\n  // Dynamic meta tags for SEO\n  const getMetaForSection = (section) => {\n    const baseMeta = {\n      title: 'GANGUI',\n      description:\n        'Join the ultimate Minecraft experience on Gangui server. Community-driven gameplay with unique features and adventures.',\n      url: `${window.location.origin}${window.location.pathname}${section}`,\n    };\n\n    switch (section) {\n      case '#hero':\n        return {\n          ...baseMeta,\n          title: 'Home',\n          description:\n            'Welcome to Gangui, the premier Minecraft server for community gaming, unique adventures, and competitive gameplay.',\n        };\n      case '#features':\n        return {\n          ...baseMeta,\n          title: 'Features',\n          description:\n            'Discover the amazing features of the Minecraft server: custom game modes, competitive gameplay, and community events.',\n        };\n      case '#faq':\n        return {\n          ...baseMeta,\n          title: 'FAQ',\n          description:\n            'Frequently asked questions about the Minecraft server. Learn how to join, gameplay rules, and server information.',\n        };\n      case '#join':\n        return {\n          ...baseMeta,\n          title: 'Join Now',\n          description:\n            'Ready to join Gangui? Get the server IP, learn how to connect, and start your Minecraft adventure today.',\n        };\n      case '#stats':\n        return {\n          ...baseMeta,\n          title: 'Player Stats',\n          description:\n            'View detailed player statistics, rankings, and achievements on the Minecraft server.',\n        };\n      default:\n        return baseMeta;\n    }\n  };\n\n  const currentMeta = getMetaForSection(hash);\n\n  return (\n    <>\n      <Helmet>\n        <title>{currentMeta.title}</title>\n        <meta name=\"description\" content={currentMeta.description} />\n        <meta property=\"og:title\" content={currentMeta.title} />\n        <meta property=\"og:description\" content={currentMeta.description} />\n        <meta property=\"og:url\" content={currentMeta.url} />\n        <meta property=\"og:type\" content=\"website\" />\n        <meta name=\"twitter:card\" content=\"summary\" />\n        <meta name=\"twitter:title\" content={currentMeta.title} />\n        <meta name=\"twitter:description\" content={currentMeta.description} />\n        <link rel=\"canonical\" href={currentMeta.url} />\n        <script type=\"application/ld+json\">\n          {JSON.stringify({\n            '@context': 'https://schema.org',\n            '@type': 'Organization',\n            name: 'Gangui',\n            description:\n              'Minecraft server offering community-driven gameplay with unique features and adventures',\n            url: window.location.origin,\n            logo: `${window.location.origin}/img/logo_dark.svg`,\n            sameAs: [\n              'https://discord.gg/gangui', // Assuming Discord link\n              'https://twitter.com/gangui', // Assuming Twitter link\n            ],\n            game: {\n              '@type': 'VideoGame',\n              name: 'Minecraft',\n              genre: 'Sandbox',\n              playMode: 'MultiPlayer',\n            },\n            areaServed: 'Worldwide',\n            serviceType: 'Gaming Server',\n          })}\n        </script>\n      </Helmet>\n      <Header />\n      <main style={{ paddingTop: '120px' }}>\n        {!showStats && <Hero />}\n        {!showStats && <Features />}\n        {!showStats && <FAQ />}\n        {!showStats && <Join />}\n        {showStats && <Stats />}\n      </main>\n      <Footer />\n    </>\n  );\n}\n","import React from 'react';\nimport HomePage from './pages/HomePage.jsx';\nimport { LanguageProvider } from './i18n/LanguageProvider.jsx';\n\nexport default function App() {\n  return (\n    <LanguageProvider>\n      <HomePage />\n    </LanguageProvider>\n  );\n}\n","import React from 'react';\nimport { createRoot } from 'react-dom/client';\nimport App from './App.jsx';\nimport './styles/style.css';\nimport './styles/header.css';\nimport './styles/footer.css';\nimport './styles/stats.css';\nimport './tailwind.css';\n\ncreateRoot(document.getElementById('root')).render(<App />);\n"],"file":"assets/index-C2nPHJiA.js"}